(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6c8ba910"],{"0447":function(t,e,i){},4495:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"d",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return l}));var s=i("b775"),a="/api/blade-platform",o=function(t){return Object(s.a)({url:"".concat(a,"/platformsystemaccesslink/detail"),method:"get"})},n=function(t){return Object(s.a)({url:"".concat(a,"/platformsystemaccesslink/update"),method:"post",data:t})},r=function(t){return Object(s.a)({url:"".concat(a,"/platformapplyguiselogo/detail"),method:"get"})},l=function(t){return Object(s.a)({url:"".concat(a,"/platformapplyguiselogo/submit"),method:"post",data:t})}},"928e":function(t,e,i){"use strict";var s=i("0447");i.n(s).a},fbab:function(t,e,i){"use strict";i.r(e);var s=i("4495"),a={name:"formSeven",props:["IDlist"],data:function(){return{rules:{name:[{required:!0,message:"请输入系统名称",trigger:"blur"}],description:[{required:!0,message:"请输入校训",trigger:"blur"}],websiteUrl:[{required:!0,message:"请输入学校官网地址",trigger:"blur"},{type:"url",message:"请输入正确格式的网址"}],advanceLogo:[{required:!0,message:"请选择系统logo"}],advanceColor:[{required:!0,message:"请选择预登陆主题色"}]},formList:{id:"",logo:"",name:"",description:"",advanceBackground:"",advanceLogo:"",websiteUrl:"",advanceColor:"",webImConfig:1},fileList:[],dialogVisible:!1,dialogImageUrl:"",adLandingBackImgList:[],adLandingLogoList:[],sysLogo:[],countNum:1}},created:function(){this.detailWGFN()},methods:{validateValue:function(t,e,i){this.countNum||e||(this.countNum+=1,i&&this.$message.error(i))},toPreview:function(){var t=JSON.stringify(this.formList);sessionStorage.setItem("formValue",t);var e=window.location.protocol+"//"+window.location.host+window.location.pathname+"#/previewAdvanceLanding";window.open(e)},getAdLandingLogo:function(t){this.formList.advanceLogo=t.result},removeAdLandingLogo:function(){this.formList.advanceLogo="",this.adLandingLogoList=[]},removeSysLogo:function(){this.formList.logo="",this.sysLogo=[]},getSysLogo:function(t){this.formList.logo=t.result},removeAdLandingBackImg:function(){this.formList.advanceLogo="",this.adLandingBackImgList=[]},getAdLandingBackImg:function(t){this.formList.advanceLogo=t.result,this.adLandingBackImgList=[{url:t.result}]},handleExceed:function(){this.$message.error("一次只能上传一张图片")},submitFN:function(){var t=this;this.countNum=0,this.$nextTick((function(){t.$refs.formList.validate((function(e){if(!e)return!1;try{var i=t.formList;Object(s.c)(i).then((function(e){var i=e.data;1e3===i.status?t.$message.success("操作成功"):(t.countNum=1,t.$message.error(i.msg))}))}catch(e){t.countNum=1}}))}))},Reset:function(){this.fileList=[],this.adLandingBackImgList=[],this.sysLogo=[],this.adLandingLogoList=[],this.detailWGFN()},detailWGFN:function(){var t=this;try{Object(s.b)().then((function(e){var i=e.data;1e3===i.status?(Object.assign(t.formList,i.result[0]),t.formList.advanceLogo?t.adLandingBackImgList=[{url:t.formList.advanceLogo}]:t.adLandingBackImgList=[],t.adLandingLogoList=[{url:t.formList.advanceLogo}],t.sysLogo=[{url:t.formList.logo}]):(Object.assign(t.$data,t.$options.data()),t.$message.error(i.msg))}))}catch(t){}},beforeUpload:function(t){return-1==["image/png","image/jpg","image/jpeg","image/svg+xml","image/gif"].indexOf(t.type)?(this.$message.error("上传头像只能是png jpg jpeg gif svg图片格式!"),!1):t.size/1024/1024<=5?void 0:(this.$message.error("上传图片最大5M, 请重新上传!"),!1)},handleSuccess:function(t){this.formList.logo=t.result},handlePreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},hadleError:function(t){this.$message.error(t)},handleRemove:function(t,e){this.formList.logo=""},closePreview:function(){this.dialogVisible=!1}}},o=(i("928e"),i("2877")),n=Object(o.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"third looking-setting"},[i("div",{staticClass:"third-formOne adhibition"},[i("div",{staticClass:"formOne-btn"},[t._m(0),i("div",{staticClass:"btn-right"},[i("el-button",{staticClass:"btn-two",attrs:{type:"default"},on:{click:function(e){return t.Reset()}}},[t._v("重置")]),i("el-button",{directives:[{name:"el-disabel-repeat-click",rawName:"v-el-disabel-repeat-click"}],staticClass:"btn-two",attrs:{type:"primary"},on:{click:function(e){return t.submitFN()}}},[t._v("保存")])],1)]),i("el-form",{ref:"formList",attrs:{model:t.formList,rules:t.rules,"show-message":!1,"label-width":"100px"},on:{validate:t.validateValue}},[i("div",{staticClass:"formOne-forms"},[i("div",{staticClass:"forms-one",staticStyle:{"margin-top":"57px"}},[i("div",{staticClass:"one-title"},[i("div",{staticClass:"title-left"},[i("span",{staticClass:"left-icon"},[i("i",{staticClass:"el-icon-s-operation"})]),i("span",{staticClass:"left-content palTel"},[t._v("全局设置")])])]),i("div",{staticClass:"one-list myform"},[i("el-form-item",{attrs:{label:"系统名称",prop:"name"}},[i("el-input",{staticClass:"list-input myInput_config",attrs:{maxlength:12,placeholder:"请输入"},model:{value:t.formList.name,callback:function(e){t.$set(t.formList,"name","string"==typeof e?e.trim():e)},expression:"formList.name"}})],1),i("el-form-item",{attrs:{label:"系统logo",prop:"advanceLogo"}},[i("el-upload",{staticClass:"list-upload-img my-upload",attrs:{action:"/api/blade-platform/platformapplyguiselogo/upload",accept:".jpg, .jpeg, .png, .gif, .svg","list-type":"picture-card","file-list":t.adLandingBackImgList,"on-success":t.getAdLandingBackImg,"on-remove":t.removeAdLandingBackImg,"on-error":t.hadleError,"before-upload":t.beforeUpload,"on-preview":t.handlePreview}},[i("i",{staticClass:"el-icon-plus"}),i("div",{staticClass:"list-upload-title",staticStyle:{"font-size":"12px"}},[t._v("点击上传")]),i("div",{staticClass:"list-upload-tip my-upload-footer",staticStyle:{"font-size":"10px"},attrs:{slot:"tip"},slot:"tip"},[t._v("5M以内，支持扩展名.png、.jpg、.jpeg、.gif、.svg，建议为632*112px的矩形图片")])])],1),i("el-form-item",{attrs:{label:"校训",prop:"description"}},[i("el-input",{staticClass:"list-input myInput_config",attrs:{maxlength:60,placeholder:"请输入"},model:{value:t.formList.description,callback:function(e){t.$set(t.formList,"description","string"==typeof e?e.trim():e)},expression:"formList.description"}})],1)],1)])])])],1),i("preview-modal",{attrs:{previewModal:t.dialogVisible,previewImageUrl:t.dialogImageUrl},on:{previewClose:t.closePreview}})],1)}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"btn-left"},[i("span",{staticClass:"left-back-content"},[t._v("系统通用配置")])])}],!1,null,null,null);e.default=n.exports}}]);
//# sourceMappingURL=chunk-6c8ba910.9a91eea0.js.map
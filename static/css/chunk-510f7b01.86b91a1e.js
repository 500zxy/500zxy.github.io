(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-510f7b01"],{1096:function(e,t,a){"use strict";a.r(t);var s=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=a("2f62"),n=(a("386d"),a("96cf"),a("3b8d")),r=a("da6f");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={name:"robotFAQLibrary",data:function(){return{importModal:!1,outputModal:!1,loading:!1,defaultProps:{children:"children",label:"typeName"},bmList:[],rulesImport:{sjklx:[{required:!0,message:"请选择",trigger:"change"}],ljmc:[{required:!0,message:"请输入",trigger:"blur"}],zjip:[{required:!0,message:"请输入",trigger:"blur"}],dkh:[{required:!0,message:"请输入",trigger:"blur"}],sjkm:[{required:!0,message:"请输入",trigger:"blur"}],yhm:[{required:!0,message:"请输入",trigger:"blur"}],pwd:[{required:!0,message:"请输入",trigger:"blur"}]},addModal:!1,isError:!0,noticeSpec:"分类删除后不可恢复，",noticeType:1,agreeContent:"确定",noticeTitle:"提示",noitceContent:"确定删除吗？",noticeModal:!1,delectID:"",treeData:[{typeName:"所有分类",children:[],show:!1}],pageSize:40,pageNum:1,total:0,tableData:[],hignModal:!1,searchForm:{questionName:"",faqType:"",faq:"",display:""},checked:!0,checkClassList:[],checkID:"",hignSearchRes:"",orderConfig:"",tableDataShow:[],countNum:1,tableRow:[{column:"问题名称",key:"questionName",needKeyValue:!1,caseKey:"question_name"},{column:"问题分类",key:"questionTypeName",needKeyValue:!1,caseKey:"question_type_name"},{column:"答案类型",key:"answerType",needKeyValue:!0,caseKey:"answer_type",isCustomList:[{label:"文本",value:"1"},{label:"链接",value:"2"}]},{column:"答案",key:"answer",needKeyValue:!1,caseKey:"answer"},{column:"是否为常见问题",key:"isShow",needKeyValue:!0,caseKey:"is_show",isCustomList:[{label:"是",value:1},{label:"否",value:0}]},{column:"展示顺序",key:"sort",needKeyValue:!1,caseKey:"sort"},{column:"被搜索次数（次）",key:"count",needKeyValue:!1,caseKey:"count"},{column:"更新时间",key:"updateTime",needKeyValue:!1,caseKey:"update_time"}],selectData:"",apiServerDataBaseId:"",deleteType:1}},created:function(){sessionStorage.setItem("apiServerDataBaseId","");var e=this.getSessonValue("robotFAQLibrary_DisplayFied"),t=this.getSessonValue("robotFAQLibrary_SortData");e&&(this.orderConfig=e),this.tableDataShow=t||this.tableRow,this.getFAQTypeList()},computed:l({},Object(i.d)({componentsName:function(e){return e.robotsManage.robotsManageComponentName}})),methods:l({},Object(i.c)({changeComponentName:"SET_robotsManage_faqLibrary_ComponentName"}),{},Object(i.b)(["questionTypeList","removeFAQ","removeFAQType","aiquestionList"]),{pullOut:function(){this.$downLoadFile("/api/blade-platform/aiquestion/exportExcel",this.searchForm,"问题库.xls")},closeOutPut:function(){this.outputModal=!1},outputData:function(){this.outputModal=!0},importData:function(){this.importModal=!0},closeImport:function(){this.importModal=!1},renderContent:function(e,t){var a=t.node,s=t.data;return 1==a.level?e("span",{class:"custom-tree-node"},[e("i",{class:"iconfont_12 iconfolder"}),e("span",{style:"padding-left: 8px; font-weight: bold;"},[a.label])]):0!==s.children.length?e("span",{class:"custom-tree-node"},[e("i",{class:"iconfont_12 iconmulu"}),e("span",{style:"padding-left: 8px;"},[a.label])]):e("span",{class:"custom-tree-node"},[e("i",{class:"iconfont_12 iconxiangmu"}),e("span",{style:"padding-left: 8px;"},[a.label])])},dataSetDetail:function(e){Object(r.c)({name:"od_detail_id",content:e.id,type:"session"}),Object(r.c)({name:"od_dataBase_id",content:e.apiServerDataBaseId,type:"session"}),this.changeComponentName("odDetail")},validateTwo:function(e,t,a){t||this.countNum||(this.countNum+=1,a&&this.$message.error(a))},addItem:function(e){this.$emit("toFAQInfo",e),sessionStorage.setItem("apiServerDataBaseId",this.apiServerDataBaseId)},addData:function(e,t){this.$emit("toTypeInfo",null)},toHignSearch:function(e){this.hignSearchRes=e,this.pageNum=1,this.hignModal=!1,this.getFAQList()},editDataBase:function(e){this.$emit("toTypeInfo",e)},getRowKey:function(e){return e.questionId},handleSelectChange:function(e){this.checkClassList=[];for(var t=0;t<=e.length-1;t++)this.checkClassList.push(e[t].questionId);this.checkID=this.checkClassList.join(",")},treeNodeHover:function(e,t){var a=this;this.treeData.forEach((function(e){e.children&&e.children.forEach((function(e){e.id===t.id?e.show=!0:a.selectData&&a.selectData.id!==e.id&&(e.show=!1)}))}))},treeNodeLeave:function(e,t){var a=this;this.treeData.forEach((function(e){e.children&&e.children.forEach((function(e){a.selectData&&a.selectData.id!==e.id&&(e.show=!1)}))}))},handleNodeClick:function(e,t){var a=this;1===t.level&&(this.apiServerDataBaseId="",this.getFAQList()),this.selectData=e,this.treeData.forEach((function(t){t.children&&t.children.forEach((function(t){t.questionType===e.questionType?(t.show=!0,a.apiServerDataBaseId=t.questionType,a.getFAQList()):t.show=!1}))})),Object(r.c)({name:"faq_baseTree_id",content:this.apiServerDataBaseId,type:"session"})},agreeNotice:function(){1===this.deleteType?this.faqTypeRemove():2===this.deleteType?this.faqRemove(this.delectID):3===this.deleteType?this.faqRemove(this.checkID):4===this.deleteType&&(this.noticeModal=!1)},closeNotice:function(){this.delectID="",this.noticeModal=!1},deleteDataBase:function(e){this.apiServerDataBaseId=e.questionType,this.deleteType=1,this.noticeSpec="",this.noticeType=1,this.agreeContent="确认",this.noticeTitle="确认操作",this.noitceContent="是否确认删除？",this.noticeModal=!0},faqTypeRemove:function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.$store.dispatch("removeFAQType",{questionType:this.apiServerDataBaseId});case 3:1e3===(t=e.sent).data.status?(this.$message.success("操作成功"),this.noticeModal=!1,this.getFAQTypeList()):1002===t.data.status?(this.noticeModal=!1,this.deleteType=4,this.noticeSpec="",this.noticeType=2,this.agreeContent="我知道了",this.noticeTitle="提示",this.noitceContent=t.data.msg,this.noticeModal=!0):this.$message.error(t.data.msg);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),deleteItem:function(e){this.noticeSpec="",this.noticeType=1,this.agreeContent="确认",this.noticeTitle="确认操作",this.noitceContent="是否确认删除？",e?(this.delectID=e.questionId,this.deleteType=2,this.noticeModal=!0):0==this.checkClassList.length?this.$message.error("请勾选数据"):(this.deleteType=3,this.noticeModal=!0)},faqRemove:function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t){var a,s,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.removeFAQ({ids:t});case 2:if(a=e.sent,s=a.data,i=s.msg,1e3!==s.status){e.next=14;break}return this.noticeModal=!1,this.$message.success("删除成功"),this.$refs.faqTableData.clearSelection(),this.checkClassList=[],this.delectID="",this.getFAQList(),e.abrupt("return");case 14:this.$message.error(i);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),refreshTree:function(){this.getFAQTypeList()},changeHign:function(){},closeModal:function(){this.hignModal=!1},hignSearch:function(){this.hignModal=!0},handleSizeChange:function(e){this.pageNum=1,this.pageSize=e,this.getFAQList()},handleCurrentChange:function(e){this.pageNum=e,this.getFAQList()},search:function(){this.hignSearchRes="",this.pageNum=1,this.getFAQList()},getTableList:function(e){this.tableDataShow=e},getDataOrder:function(e){this.orderConfig=e,this.getFAQList()},getSessonValue:function(e){return Object(r.a)({name:e,type:"session"})},reset:function(){this.$refs.searchForm.resetFields(),this.$refs.faqTableData.clearSelection(),this.checkClassList=[],this.delectID="",this.searchForm={questionName:"",faqType:"",faq:"",display:""},this.search()},getFAQTypeList:function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("questionTypeList");case 2:t=e.sent,Object(r.c)({name:"saveFAQTypeList",content:t.data.result,type:"session"}),1e3===t.data.status?(this.treeData[0].children=t.data.result,this.apiServerDataBaseId=Object(r.a)({name:"faq_baseTree_id",type:"session"}),this.apiServerDataBaseId?this.treeData[0].children.forEach((function(e){e.questionType===a.apiServerDataBaseId&&(a.selectData=e)})):this.selectData=this.treeData[0],this.selectData.show=!0,this.$nextTick((function(){a.$refs.treeList.setCurrentKey(a.selectData.questionType)})),this.getFAQList()):this.$message.error(t.data.msg);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),getFAQList:function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.orderConfig,Array.isArray(this.orderConfig)&&(t=this.orderConfig.join(",")),this.loading=!0,e.next=5,this.$store.dispatch("aiquestionList",[{current:this.pageNum,size:this.pageSize},{questionName:this.searchForm.questionName,questionType:this.apiServerDataBaseId,answerType:this.searchForm.faqType,answer:this.searchForm.faq,isShow:this.searchForm.display,advancedSearch:this.hignSearchRes,dataSortStr:t}]);case 5:a=e.sent,this.loading=!1,1e3===a.data.status?0!==a.data.result.records.length?(this.tableData=a.data.result.records,this.total=a.data.result.total):1!==this.pageNum?(this.pageNum-=1,this.getFAQList()):(this.tableData=[],this.total=0):(this.tableData=[],this.total=0);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()})},u=(a("739e"),a("2877")),p=Object(u.a)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"faq-library-basicpage"},[a("div",{staticClass:"third-rea banji"},[a("div",{staticClass:"third-btn"},[a("div",{staticClass:"btn-left"},[e._v("检索条件")]),a("div",{staticClass:"btn-right"},[a("el-button",{staticClass:"btn-two",attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),a("el-button",{staticClass:"btn-two",attrs:{type:"default"},on:{click:e.reset}},[e._v("重置")]),a("span",{staticClass:"btn-shu"}),a("el-button",{staticClass:"btn-four",attrs:{type:"default",icon:"el-icon-search"},on:{click:e.hignSearch}},[e._v("高级检索")])],1)]),a("div",{staticClass:"third-search"},[a("el-form",{ref:"searchForm",attrs:{inline:!0,model:e.searchForm,"label-width":"76px"}},[a("div",{staticClass:"search-row"},[a("div",{staticClass:"row-item"},[a("el-form-item",{attrs:{label:"问题名称"}},[a("el-input",{staticClass:"item-input",attrs:{maxlength:30,placeholder:"请输入"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.searchForm.questionName,callback:function(t){e.$set(e.searchForm,"questionName","string"==typeof t?t.trim():t)},expression:"searchForm.questionName"}})],1)],1),a("div",{staticClass:"row-item"},[a("el-form-item",{attrs:{label:"答案类型"}},[a("el-select",{staticClass:"item-input",attrs:{placeholder:"请选择"},model:{value:e.searchForm.faqType,callback:function(t){e.$set(e.searchForm,"faqType",t)},expression:"searchForm.faqType"}},[a("el-option",{attrs:{label:"全部",value:""}}),a("el-option",{attrs:{label:"文本",value:1}}),a("el-option",{attrs:{label:"链接",value:2}})],1)],1)],1),a("div",{staticClass:"row-item"},[a("el-form-item",{attrs:{label:"答案"}},[a("el-input",{staticClass:"item-input",attrs:{maxlength:30,placeholder:"请输入"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.searchForm.faq,callback:function(t){e.$set(e.searchForm,"faq","string"==typeof t?t.trim():t)},expression:"searchForm.faq"}})],1)],1),a("div",{staticClass:"row-item"},[a("el-form-item",{attrs:{"label-width":"90px",label:"是否为常见问题"}},[a("el-select",{staticClass:"item-input",attrs:{placeholder:"请选择"},model:{value:e.searchForm.display,callback:function(t){e.$set(e.searchForm,"display",t)},expression:"searchForm.display"}},[a("el-option",{attrs:{label:"全部",value:""}}),a("el-option",{attrs:{label:"展示",value:1}}),a("el-option",{attrs:{label:"不展示",value:0}})],1)],1)],1)])])],1)]),a("div",{staticClass:"third-one"},[a("div",{staticClass:"one-left"},[e._m(0),a("div",{staticClass:"left-tree"},[0===e.treeData[0].children.length?a("div",{staticClass:"tree-nodata"},[e._v("暂无分类，请点击右上角【+】创建")]):e._e(),a("el-tree",{ref:"treeList",staticClass:"tableListPage",attrs:{data:e.treeData,"node-key":"questionType","default-expand-all":"","expand-on-click-node":!1,"highlight-current":"",props:e.defaultProps},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.node,i=t.data;return a("span",{staticClass:"custom-tree-node-list",on:{mouseover:function(t){return e.treeNodeHover(s,i)},mouseleave:function(t){return e.treeNodeLeave(s,i)}}},[a("span",{staticClass:"custom-tree-node"},[1===s.level?[a("span",{staticClass:"tree-img-box"},[a("i",{staticClass:"iconfont_12 iconfolder"})]),a("span",{staticStyle:{"padding-left":"6px","font-weight":"bold"}},[e._v(e._s(s.label))]),a("span",{staticClass:"add-node",on:{click:function(t){return e.addData(s,i)}}},[a("i",{staticClass:"el-icon-plus"})]),a("span",{staticClass:"add-node",on:{click:e.refreshTree}},[a("i",{staticClass:"el-icon-refresh"})])]:[a("span",{staticClass:"tree-img-box"},[a("i",{staticClass:"iconfont_12 icon-shouye-biaoqianfenlei"})]),a("span",{staticStyle:{"padding-left":"6px"}},[e._v(e._s(s.label))]),a("span",{staticClass:"edit-node",on:{click:function(t){return e.editDataBase(i)}}},[a("i",{staticClass:"el-icon-edit-outline"})]),a("span",{staticClass:"delete-node",on:{click:function(t){return e.deleteDataBase(i)}}},[a("i",{staticClass:"el-icon-delete"})])]],2)])}}])})],1)]),a("div",{staticClass:"one-right"},[a("div",{staticClass:"third-do-btn"},[a("div",{staticClass:"do-btn-left"},[a("el-button",{staticClass:"do-btn-four",attrs:{type:"default",icon:"el-icon-download"},on:{click:e.importData}},[e._v("导入数据")]),a("el-button",{staticClass:"do-btn-four",attrs:{type:"default",icon:"el-icon-upload2"},on:{click:e.pullOut}},[e._v("导出数据")]),a("el-button",{staticClass:"do-btn-two",attrs:{type:"default",icon:"el-icon-plus"},on:{click:function(t){return e.addItem(null)}}},[e._v("新增")]),a("el-button",{staticClass:"do-btn-two",attrs:{type:"default",icon:"el-icon-delete"},on:{click:function(t){return e.deleteItem(null)}}},[e._v("删除")])],1),a("div",{staticClass:"do-btn-right"},[a("div",{staticClass:"do-btn-check"},[a("el-checkbox",{staticClass:"btn-check-item",on:{change:e.changeHign},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}}),a("span",{staticClass:"btn-check-span"},[e._v("显示高级功能")])],1),e.checked?a("div",{staticClass:"do-btn-hign-list"},[a("sort-data",{attrs:{tableRow:e.tableRow,sessionOriginalName:"odSortOrignalData_robotFAQLibrary",sessionResultName:"SortData_robotFAQLibrary"},on:{showList:e.getTableList}}),a("display-field",{attrs:{selectList:e.tableRow,sessionOriginalName:"odDisplayFiedOrignal_robotFAQLibrary",sessionResultName:"DisplayFied_robotFAQLibrary"},on:{setDataOrder:e.getDataOrder}})],1):e._e()])]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"faqTableData",staticClass:"third-tableThree",attrs:{data:e.tableData,"empty-text":"暂无数据","row-key":"questionId",border:"",stripe:""},on:{"selection-change":e.handleSelectChange}},[a("el-table-column",{attrs:{type:"selection","reserve-selection":"",width:"32px"}}),e._l(e.tableDataShow,(function(t,s){return[t.needKeyValue?a("el-table-column",{key:s,attrs:{"min-width":"80px",prop:t.key,label:t.column,"show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(s){return["answerType"===t.key?a("span",[1===s.row[t.key]?a("span",[e._v("文本")]):e._e(),2===s.row[t.key]?a("span",[e._v("链接")]):e._e()]):e._e(),"isShow"===t.key?a("span",[1===s.row[t.key]?a("span",[e._v("是")]):e._e(),0===s.row[t.key]?a("span",[e._v("否")]):e._e()]):e._e()]}}],null,!0)}):a("el-table-column",{key:s,attrs:{"min-width":"100px",prop:t.key,label:t.column,"show-overflow-tooltip":!0}})]})),a("el-table-column",{attrs:{prop:"address","min-width":"80px",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.addItem(t.row)}}},[e._v("详情")]),a("span",{staticClass:"tableThree-height-shu"},[a("span",{staticClass:"shu-item"})]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.deleteItem(t.row)}}},[e._v("删除")])]}}])})],2),a("div",{staticClass:"third-page"},[a("el-pagination",{attrs:{"current-page":e.pageNum,background:"","page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),a("notice-modal",{attrs:{noticeModalVisible:e.noticeModal,noticeTitle:e.noticeTitle,noticeSpec:e.noticeSpec,isError:e.isError,noticeType:e.noticeType,btnAgree:e.agreeContent,noticeContent:e.noitceContent},on:{noticeModalClose:e.closeNotice,noticeModalAgree:e.agreeNotice}}),a("hign-modal",{attrs:{hignModalVisible:e.hignModal,hignOneList:e.tableRow},on:{searchModal:e.toHignSearch,cancelModal:e.closeModal}}),a("push-Into",{attrs:{importModal:e.importModal,actionURL:"/api/blade-platform/aiquestion/excel/upload",downloadURL:"/api/blade-platform/aiquestion/downloadExcel",relationURL:"/api/blade-platform/aiquestion/excel/match",DaoruURL:"/api/blade-platform/aiquestion/excel/import",IngURL:"/api/blade-platform/aiquestion/excel/import/conf",upFailURL:"/api/blade-platform/aiquestion/downloadErrorExcel"},on:{closeNewTask:e.closeImport}})],1)}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"left-tab"},[a("div",{staticClass:"tab-one custom-tree_tab"},[a("span",[e._v("分类列表")])])])}],!1,null,null,null).exports;function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a("55dd"),a("2ef0"),a("7d92");var h={name:"faqConfig",props:{enterFAQ:Object},data:function(){return{headerName:"",faqForm:{id:"",titleName:"",type:"",faqType:1,faqAnswer:"",isDisplay:"",order:void 0},faqFormRules:{titleName:[{required:!0,message:"请输入问题名称",trigger:"blur"}],type:[{required:!0,message:"请选择问题分类",trigger:"change"}],faqType:[{required:!0,message:"请选择答案类型",trigger:"change"}],faqAnswer:[{required:!0,message:"请输入回答",trigger:"blur"}],isDisplay:[{required:!0,message:"请选择是否为常见问题",trigger:"change"}],order:[{required:!0,message:"请输入展示顺序",trigger:"change"}]},countNum:1,faqTypeList:[]}},computed:m({},Object(i.d)({userInfo:function(e){return e.user.userInfo},componentsName:function(e){return e.robotsManage.robotsManage_faqLibrary_ComponentName}})),created:function(){this.enterFAQ?(this.headerName="编辑问题",this.faqForm.id=this.enterFAQ.questionId,this.faqForm.titleName=this.enterFAQ.questionName,this.faqForm.type=this.enterFAQ.questionType,this.faqForm.faqType=this.enterFAQ.answerType,this.faqForm.faqAnswer=this.enterFAQ.answer,this.faqForm.isDisplay=this.enterFAQ.isShow,this.faqForm.order=this.enterFAQ.sort):(this.headerName="新建问题",sessionStorage.getItem("apiServerDataBaseId")&&(this.faqForm.type=sessionStorage.getItem("apiServerDataBaseId")&&"undefined"!==sessionStorage.getItem("apiServerDataBaseId")?sessionStorage.getItem("apiServerDataBaseId"):"")),this.faqTypeList=Object(r.a)({name:"saveFAQTypeList",type:"session"})},methods:m({},Object(i.b)(["saveFAQ"]),{},Object(i.c)({changeComponentName:"SET_robotsManage_faqLibrary_ComponentName"}),{typeChange:function(){this.faqForm.faqAnswer=""},validateTwo:function(e,t,a){t||this.countNum||(this.countNum+=1,a&&this.$message.error(a))},submitForm:function(e){var t=this;this.countNum=0,this.$refs[e].validate((function(e){if(!e)return!1;t.countNum=1,t.saveFAQFuc()}))},Reset:function(){this.$refs.faqForm.resetFields(),this.faqForm.id=this.enterFAQ.questionId,this.faqForm.titleName=this.enterFAQ.questionName,this.faqForm.type=this.enterFAQ.questionType,this.faqForm.faqType=this.enterFAQ.answerType,this.faqForm.faqAnswer=this.enterFAQ.answer,this.faqForm.isDisplay=this.enterFAQ.isShow,this.faqForm.order=this.enterFAQ.sort},saveFAQFuc:function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){var t,a,s,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveFAQ({questionId:this.faqForm.id,questionName:this.faqForm.titleName,questionType:this.faqForm.type,answerType:this.faqForm.faqType,answer:this.faqForm.faqAnswer,isShow:this.faqForm.isDisplay,sort:this.faqForm.order});case 2:if(t=e.sent,a=t.data,s=a.msg,1e3!==a.status){e.next=10;break}return this.$message.success("操作成功"),setTimeout((function(){i.changeComponent()}),1e3),e.abrupt("return");case 10:this.$message.error(s);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),changeComponent:function(){Object(r.b)({name:"FaqConfig",type:"session"}),Object(r.b)({name:"saveFAQTypeList",type:"session"}),this.changeComponentName("BasicPage")}})},f=(a("e02a"),Object(u.a)(h,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"third faqConfig"},[s("div",{staticClass:"third-formOne"},[s("div",{staticClass:"formOne-btn"},[s("div",{staticClass:"btn-left"},[s("span",{staticClass:"left-back-icon",on:{click:e.changeComponent}},[s("i",{staticClass:"el-icon-arrow-left"}),s("span",{staticClass:"left-back-title"},[e._v("返回")])]),e._m(0),s("span",{staticClass:"left-back-content"},[e._v(e._s(e.headerName))])]),s("div",{staticClass:"btn-right"},[s("el-button",{directives:[{name:"el-disabel-repeat-click",rawName:"v-el-disabel-repeat-click"}],staticClass:"btn-two",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("faqForm")}}},[e._v("保存")]),s("el-button",{directives:[{name:"el-disabel-repeat-click",rawName:"v-el-disabel-repeat-click"}],staticClass:"btn-two",attrs:{type:"default"},on:{click:e.Reset}},[e._v("重置")])],1)]),s("div",{staticClass:"third-one library"},[s("div",{staticClass:"formOne-forms"},[s("el-form",{ref:"faqForm",attrs:{inline:!1,model:e.faqForm,rules:e.faqFormRules,"label-width":"120px","show-message":!1},on:{validate:e.validateTwo}},[s("div",{staticClass:"forms-one",staticStyle:{"margin-top":"57px"}},[s("div",{staticClass:"one-title"},[s("div",{staticClass:"title-left"},[s("span",{staticClass:"left-icon"},[s("i",{staticClass:"el-icon-s-operation"})]),s("span",{staticClass:"left-content"},[e._v("基本信息")])])]),s("div",[s("div",{staticClass:"one-list"},[s("div",{staticClass:"list-one-line"},[s("el-form-item",{attrs:{label:"问题名称",prop:"titleName"}},[s("el-input",{staticClass:"list-input",attrs:{maxlength:200,placeholder:"请输入"},model:{value:e.faqForm.titleName,callback:function(t){e.$set(e.faqForm,"titleName","string"==typeof t?t.trim():t)},expression:"faqForm.titleName"}})],1)],1)]),s("div",{staticClass:"one-list"},[s("div",{staticClass:"list-one-line"},[s("el-form-item",{attrs:{label:"问题分类",prop:"type"}},[s("el-select",{staticClass:"item-input",staticStyle:{width:"293px"},attrs:{placeholder:"请选择"},model:{value:e.faqForm.type,callback:function(t){e.$set(e.faqForm,"type",t)},expression:"faqForm.type"}},e._l(e.faqTypeList,(function(e){return s("el-option",{key:e.index,attrs:{label:e.typeName,value:e.questionType}})})),1)],1)],1)]),s("div",{staticClass:"one-list"},[s("div",{staticClass:"list-one-line"},[s("el-form-item",{attrs:{label:"答案类型",prop:"faqType"}},[s("el-radio-group",{on:{change:e.typeChange},model:{value:e.faqForm.faqType,callback:function(t){e.$set(e.faqForm,"faqType",t)},expression:"faqForm.faqType"}},[s("el-radio",{attrs:{label:1}},[e._v("文本")]),s("el-radio",{attrs:{label:2}},[e._v("链接")])],1)],1)],1)]),s("div",{staticClass:"one-list"},[s("div",{staticClass:"list-one-line"},[1==e.faqForm.faqType?s("el-form-item",{attrs:{label:"答案",prop:"faqAnswer"}},[s("el-input",{staticClass:"list-textarea faqConfig-list-textarea",attrs:{type:"textarea",placeholder:"请输入答案（文本）",maxlength:"10000"},model:{value:e.faqForm.faqAnswer,callback:function(t){e.$set(e.faqForm,"faqAnswer",t)},expression:"faqForm.faqAnswer"}})],1):e._e(),2==e.faqForm.faqType?s("el-form-item",{attrs:{label:"答案",prop:"faqAnswer",rules:[{required:!0,message:"请输入答案",trigger:"blur"},{type:"string",pattern:/^http[s]?:\/\/.*/,message:"请完整输入http(s)",trigger:"blur"}]}},[s("el-input",{staticClass:"list-input",attrs:{maxlength:"1000",placeholder:"请输入访问链接"},model:{value:e.faqForm.faqAnswer,callback:function(t){e.$set(e.faqForm,"faqAnswer","string"==typeof t?t.trim():t)},expression:"faqForm.faqAnswer"}})],1):e._e()],1)])])]),s("div",{staticClass:"forms-one"},[s("div",{staticClass:"one-title"},[s("div",{staticClass:"title-left"},[s("span",{staticClass:"left-icon"},[s("i",{staticClass:"el-icon-s-operation"})]),s("span",{staticClass:"left-content"},[e._v("首页展示")])])]),s("div",[s("div",{staticClass:"one-list"},[s("div",{staticClass:"list-one-line"},[s("el-form-item",{attrs:{label:"是否为常见问题",prop:"isDisplay"}},[s("el-radio-group",{model:{value:e.faqForm.isDisplay,callback:function(t){e.$set(e.faqForm,"isDisplay",t)},expression:"faqForm.isDisplay"}},[s("el-radio",{attrs:{label:1}},[e._v("是\n                        "),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"此问题将推荐至机器人问答会话首页，用户打开机器人即可查看",placement:"top-start"}},[s("div",{staticStyle:{display:"inline-block"}},[s("img",{staticStyle:{width:"14px","margin-bottom":"-3px"},attrs:{src:a("61e26"),alt:""}})])])],1),s("el-radio",{attrs:{label:0}},[e._v("否\n                        "),s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"此问题需用户输入关键词或进入全部问题列表才可查看",placement:"top-start"}},[s("div",{staticStyle:{display:"inline-block"}},[s("img",{staticStyle:{width:"14px","margin-bottom":"-3px"},attrs:{src:a("61e26"),alt:""}})])])],1)],1)],1)],1)]),s("div",{staticClass:"one-list"},[s("div",{staticClass:"list-one-line"},[s("el-form-item",{attrs:{label:"展示顺序",prop:"order"}},[s("el-input-number",{staticClass:"list-input",attrs:{min:1,max:99,"step-strictly":"",placeholder:"请输入数字",controls:!1},model:{value:e.faqForm.order,callback:function(t){e.$set(e.faqForm,"order",t)},expression:"faqForm.order"}})],1)],1)])])])])],1)])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"left-back-shu"},[t("span",{staticClass:"left-back-shu-content"})])}],!1,null,null,null)).exports;function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g={name:"typeConfig",props:{enterType:Object},data:function(){return{headerName:"",hignModal:!1,total:0,pageSize:10,currentPage:1,tableData:[],hignSearchRes:"",orderConfig:"",infoInit:"",faqForm:{typeName:""},faqFormRules:{typeName:[{required:!0,message:"请输入分类名称",trigger:"change"}]},tableRow:[{column:"评分用户姓名",key:"userName",needKeyValue:!1,caseKey:"user_name"},{column:"评分用户登录账号",key:"userId",needKeyValue:!1,caseKey:"user_id"},{column:"评分用户身份",key:"userType",needKeyValue:!1,caseKey:"user_type"},{column:"评分",key:"score",needKeyValue:!1,caseKey:"score"},{column:"评分时间",key:"createTime",needKeyValue:!1,caseKey:"create_time"}],countNum:0,typeID:""}},computed:y({},Object(i.d)({userInfo:function(e){return e.user.userInfo},componentsName:function(e){return e.robotsManage.robotsManage_faqLibrary_ComponentName}})),created:function(){this.enterType?(this.headerName="编辑分类信息",this.faqForm.typeName=this.enterType.typeName,this.typeID=this.enterType.questionType):(this.headerName="新建分类信息",this.typeID="")},methods:y({},Object(i.b)(["saveOrUpdate"]),{},Object(i.c)({changeComponentName:"SET_robotsManage_faqLibrary_ComponentName"}),{validateTwo:function(e,t,a){t||this.countNum||(this.countNum+=1,a&&this.$message.error(a))},submitForm:function(e){var t=this;this.countNum=0,this.$refs[e].validate((function(e){if(!e)return!1;t.saveOrUpdateFuc()}))},Reset:function(){this.$refs.faqForm.resetFields(),this.faqForm.typeName=this.enterType.typeName,this.typeID=this.enterType.questionType},saveOrUpdateFuc:function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){var t,a,s,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveOrUpdate({questionType:this.typeID,typeName:this.faqForm.typeName});case 2:if(t=e.sent,a=t.data,s=a.msg,1e3!==a.status){e.next=10;break}return this.$message.success("操作成功"),setTimeout((function(){i.changeComponent()}),2e3),e.abrupt("return");case 10:this.$message.error(s);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),changeComponent:function(){Object(r.b)({name:"TypeConfig",type:"session"}),this.changeComponentName("BasicPage")}})},v=(a("199e"),Object(u.a)(g,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"third typeConfig"},[a("div",{staticClass:"third-formOne"},[a("div",{staticClass:"formOne-btn"},[a("div",{staticClass:"btn-left"},[a("span",{staticClass:"left-back-icon",on:{click:e.changeComponent}},[a("i",{staticClass:"el-icon-arrow-left"}),a("span",{staticClass:"left-back-title"},[e._v("返回")])]),e._m(0),a("span",{staticClass:"left-back-content"},[e._v(e._s(e.headerName))])]),a("div",{staticClass:"btn-right"},[a("el-button",{directives:[{name:"el-disabel-repeat-click",rawName:"v-el-disabel-repeat-click"}],staticClass:"btn-two",attrs:{type:"primary"},on:{click:function(t){return e.submitForm("faqForm")}}},[e._v("保存")]),a("el-button",{staticClass:"btn-two",attrs:{type:"default"},on:{click:e.Reset}},[e._v("重置")])],1)]),a("div",{staticClass:"third-one library"},[a("div",{staticClass:"formOne-forms",staticStyle:{"margin-top":"57px"}},[a("div",{staticClass:"forms-one"},[e._m(1),a("el-form",{ref:"faqForm",attrs:{inline:!1,model:e.faqForm,rules:e.faqFormRules,"label-width":"76px","show-message":!1},on:{validate:e.validateTwo}},[a("div",{staticClass:"one-list"},[a("div",{staticClass:"list-one-line"},[a("el-form-item",{attrs:{label:"分类名称",prop:"typeName"}},[a("el-input",{staticClass:"list-input",attrs:{maxlength:30,placeholder:"请输入"},model:{value:e.faqForm.typeName,callback:function(t){e.$set(e.faqForm,"typeName","string"==typeof t?t.trim():t)},expression:"faqForm.typeName"}})],1)],1)])])],1)])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"left-back-shu"},[t("span",{staticClass:"left-back-shu-content"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"one-title"},[a("div",{staticClass:"title-left"},[a("span",{staticClass:"left-icon"},[a("i",{staticClass:"el-icon-s-operation"})]),a("span",{staticClass:"left-content"},[e._v("基本信息")])])])}],!1,null,null,null)).exports;function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var F={name:"faqLibraryIndex",data:function(){return{enterType:"",enterFAQ:""}},computed:q({},Object(i.d)({componentsName:function(e){return e.robotsManage.robotsManage_faqLibrary_ComponentName}})),components:{BasicPage:p,FaqConfig:f,TypeConfig:v},created:function(){},destroyed:function(){this.changeComponentName("BasicPage")},methods:q({},Object(i.c)({changeComponentName:"SET_robotsManage_faqLibrary_ComponentName"}),{toTypeInfo:function(e){this.changeComponentName("TypeConfig"),this.enterType=e},toFAQInfo:function(e){this.changeComponentName("FaqConfig"),this.enterFAQ=e}})},w=Object(u.a)(F,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"third"},[a(e.componentsName,{ref:e.componentsName,tag:"component",attrs:{enterType:e.enterType,enterFAQ:e.enterFAQ},on:{toTypeInfo:e.toTypeInfo,toFAQInfo:e.toFAQInfo}})],1)}),[],!1,null,null,null);t.default=w.exports},"199e":function(e,t,a){"use strict";var s=a("ae42");a.n(s).a},"55c8":function(e,t,a){},"61e26":function(e,t){e.exports="data:image/png;base64,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"},"739e":function(e,t,a){"use strict";var s=a("9982");a.n(s).a},9982:function(e,t,a){},ae42:function(e,t,a){},e02a:function(e,t,a){"use strict";var s=a("55c8");a.n(s).a}}]);
//# sourceMappingURL=chunk-510f7b01.86b91a1e.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-05479537"],{4495:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"d",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return l}));var s=i("b775"),a="/api/blade-platform",r=function(t){return Object(s.a)({url:"".concat(a,"/platformsystemaccesslink/detail"),method:"get"})},n=function(t){return Object(s.a)({url:"".concat(a,"/platformsystemaccesslink/update"),method:"post",data:t})},o=function(t){return Object(s.a)({url:"".concat(a,"/platformapplyguiselogo/detail"),method:"get"})},l=function(t){return Object(s.a)({url:"".concat(a,"/platformapplyguiselogo/submit"),method:"post",data:t})}},5173:function(t,e,i){"use strict";var s=i("e90d");i.n(s).a},"8d23":function(t,e,i){"use strict";i.r(e);var s=(i("96cf"),i("3b8d")),a=(i("4495"),i("8a23")),r={name:"formSeven",props:["IDlist"],data:function(){return{rules:{serviceSearch:[{required:!0,message:"请选择搜索框提示语",trigger:"blur"}]},formList:{id:"",serviceCategoryVOS:[{fieldName:"场景",fieldId:"1",checked:!0,value:""},{fieldName:"部门",fieldId:"2",checked:!0,value:""},{fieldName:"类型",fieldId:"3",checked:!0,value:""}],cardNameVOS:[{fieldName:"常用服务",fieldId:"1",checked:!0,value:""},{fieldName:"推荐服务",fieldId:"2",checked:!0,value:""},{fieldName:"上新服务",fieldId:"3",checked:!0,value:""}],serviceSearch:""},fileList:[],dialogVisible:!1,dialogImageUrl:"",adLandingBackImgList:[],adLandingLogoList:[],sysLogo:[],countNum:1}},created:function(){this.detailWGFN()},mounted:function(){this.initSortabelTwo()},methods:{initSortabelTwo:function(){try{var t=document.querySelector(".one-list-two .list-one-line");t.ondrop=function(t){t.stopPropagation(),t.preventDefault()};var e=this;e.sortable=new a.a(t,{animation:300,onEnd:function(t){e.formList.serviceCategoryVOS.splice(t.newIndex,0,e.formList.serviceCategoryVOS.splice(t.oldIndex,1)[0]);var i=e.formList.serviceCategoryVOS.slice(0);e.formList.serviceCategoryVOS=[],e.$nextTick((function(){e.formList.serviceCategoryVOS=i,e.sortable=null,e.$nextTick((function(){e.initSortabelTwo()}))}))}})}catch(t){}},validateValue:function(t,e,i){this.countNum||e||(this.countNum+=1,i&&this.$message.error(i))},toPreview:function(){var t=JSON.stringify(this.formList);sessionStorage.setItem("formValue",t);var e=window.location.protocol+"//"+window.location.host+window.location.pathname+"#/previewAdvanceLanding";window.open(e)},getAdLandingLogo:function(t){this.formList.advanceLogo=t.result},removeAdLandingLogo:function(){this.formList.advanceLogo="",this.adLandingLogoList=[]},removeSysLogo:function(){this.formList.logo="",this.sysLogo=[]},getSysLogo:function(t){this.formList.logo=t.result},removeAdLandingBackImg:function(){this.formList.advanceBackground="",this.adLandingBackImgList=[]},getAdLandingBackImg:function(t){this.formList.advanceBackground=t.result},handleExceed:function(){this.$message.error("一次只能上传一张图片")},submitFN:function(){var t=this;this.countNum=0,this.$nextTick((function(){t.$refs.formList.validate((function(e){if(!e)return!1;try{t.formList;t.submit()}catch(e){t.countNum=1}}))}))},submit:function(){var t=Object(s.a)(regeneratorRuntime.mark((function t(){var e,i,s,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch("platformCardServiceConfigSubmit",this.formList);case 3:e=t.sent,i=e.data,s=i.status,a=i.msg,i.result,1e3===s?this.$message.success(a):this.$message({type:"error",message:a}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),Reset:function(){this.$refs.formList.resetFields(),this.fileList=[],this.adLandingBackImgList=[],this.sysLogo=[],this.adLandingLogoList=[],this.detailWGFN()},detailWGFN:function(){var t=Object(s.a)(regeneratorRuntime.mark((function t(){var e,i,s,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch("platformCardServiceConfigQueryServiceCardConfigDetail",{});case 3:e=t.sent,i=e.data,s=i.status,a=i.msg,r=i.result,1e3===s?Object.assign(this.formList,r):this.$message({type:"error",message:a}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),beforeUpload:function(t){return-1==["image/png","image/jpg","image/jpeg"].indexOf(t.type)?(this.$message.error("上传头像只能是png jpg jpeg图片格式!"),!1):t.size/1024/1024<=5?void 0:(this.$message.error("上传图片最大5M, 请重新上传!"),!1)},handleSuccess:function(t){this.formList.logo=t.result},handlePreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},hadleError:function(t){this.$message.error(t)},handleRemove:function(t,e){this.formList.logo=""},closePreview:function(){this.dialogVisible=!1}}},n=(i("5173"),i("2877")),o=Object(n.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"third looking-setting"},[i("div",{staticClass:"third-formOne adhibition"},[i("div",{staticClass:"formOne-btn"},[t._m(0),i("div",{staticClass:"btn-right"},[i("el-button",{staticClass:"btn-two",attrs:{type:"default"},on:{click:function(e){return t.Reset()}}},[t._v("重置")]),i("el-button",{directives:[{name:"el-disabel-repeat-click",rawName:"v-el-disabel-repeat-click"}],staticClass:"btn-two",attrs:{type:"primary"},on:{click:function(e){return t.submitFN()}}},[t._v("保存")])],1)]),i("el-form",{ref:"formList",attrs:{model:t.formList,rules:t.rules,"show-message":!1,"label-width":"100px"},on:{validate:t.validateValue}},[i("div",{staticClass:"formOne-forms"},[i("div",{staticClass:"forms-one",staticStyle:{"margin-top":"57px"}},[i("div",{staticClass:"one-title"},[i("div",{staticClass:"title-left"},[i("span",{staticClass:"left-icon"},[i("i",{staticClass:"el-icon-s-operation"})]),i("span",{staticClass:"left-content palTel"},[t._v("服务卡片")])])]),i("div",{staticClass:"one-list myform serviceClass"},[i("el-form-item",{attrs:{label:"卡片名称",rules:[{required:!0}]}},[i("div",{staticClass:"one-list"},[i("div",{staticClass:"list-one-line"},t._l(t.formList.cardNameVOS,(function(e,s){return i("el-form-item",{key:s,attrs:{label:e.fieldName,prop:"cardNameVOS."+s+".value",rules:{required:!0,message:"请输入"+e.fieldName+"卡片展示名称",trigger:"blur"}}},[i("el-input",{staticClass:"list-input myInput_config",attrs:{maxlength:6,placeholder:"请输入"+e.fieldName+"卡片展示名称"},model:{value:e.value,callback:function(i){t.$set(e,"value","string"==typeof i?i.trim():i)},expression:"item.value"}})],1)})),1)])])],1)]),i("div",{staticClass:"forms-one"},[i("div",{staticClass:"one-title"},[i("div",{staticClass:"title-left"},[i("span",{staticClass:"left-icon"},[i("i",{staticClass:"el-icon-s-operation"})]),i("span",{staticClass:"left-content palTel"},[t._v("服务分类")]),i("span",{staticStyle:{"font-size":"12px",display:"inline-block","margin-top":"2px","margin-left":"10px",color:"#ff4d4f"}},[t._v("点击字段不放可拖动字段顺序")])])]),i("div",{staticClass:"one-list myform serviceClass"},[i("el-form-item",{attrs:{label:"展示分类",rules:[{required:!0}]}},[i("div",{staticClass:"one-list-two"},[i("div",{staticClass:"list-one-line"},t._l(t.formList.serviceCategoryVOS,(function(e,s){return i("el-form-item",{key:s,staticStyle:{cursor:"pointer"}},[i("div",{staticClass:"showItem",staticStyle:{display:"flex"}},[i("span",{staticStyle:{"font-size":"12px",margin:"0px 10px 0px 0px"}},[t._v(t._s(e.fieldName))]),i("el-form-item",{attrs:{prop:"serviceCategoryVOS."+s+".value",rules:{required:!0,message:"请输入"+e.fieldName+"分类展示名称",trigger:"blur"}}},[i("el-input",{staticClass:"list-input myInput_config",attrs:{maxlength:8,placeholder:"请输入"+e.fieldName+"分类展示名称"},model:{value:e.value,callback:function(i){t.$set(e,"value","string"==typeof i?i.trim():i)},expression:"item.value"}})],1)],1)])})),1)])])],1)]),t._e(),i("div",{staticClass:"forms-one"},[i("div",{staticClass:"one-title"},[i("div",{staticClass:"title-left"},[i("span",{staticClass:"left-icon"},[i("i",{staticClass:"el-icon-s-operation"})]),i("span",{staticClass:"left-content palTel"},[t._v("服务中心搜索")])])]),i("div",{staticClass:"one-list myform"},[i("el-form-item",{attrs:{label:"搜索框提示语",prop:"serviceSearch"}},[i("el-input",{staticClass:"list-input myInput_config",attrs:{maxlength:16,placeholder:"请输入搜索框提示语"},model:{value:t.formList.serviceSearch,callback:function(e){t.$set(t.formList,"serviceSearch","string"==typeof e?e.trim():e)},expression:"formList.serviceSearch"}})],1)],1)])])])],1),i("preview-modal",{attrs:{previewModal:t.dialogVisible,previewImageUrl:t.dialogImageUrl},on:{previewClose:t.closePreview}})],1)}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"btn-left"},[i("span",{staticClass:"left-back-content"},[t._v("服务中心配置")])])}],!1,null,null,null);e.default=o.exports},e90d:function(t,e,i){}}]);
//# sourceMappingURL=chunk-05479537.f00580c3.js.map
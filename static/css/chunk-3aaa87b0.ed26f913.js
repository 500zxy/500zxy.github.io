(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3aaa87b0"],{"3bc5":function(t,e,i){"use strict";var s=i("c806");i.n(s).a},4495:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"d",(function(){return n})),i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return r}));var s=i("b775"),a="/api/blade-platform",o=function(t){return Object(s.a)({url:"".concat(a,"/platformsystemaccesslink/detail"),method:"get"})},n=function(t){return Object(s.a)({url:"".concat(a,"/platformsystemaccesslink/update"),method:"post",data:t})},l=function(t){return Object(s.a)({url:"".concat(a,"/platformapplyguiselogo/detail"),method:"get"})},r=function(t){return Object(s.a)({url:"".concat(a,"/platformapplyguiselogo/submit"),method:"post",data:t})}},"981f":function(t,e,i){"use strict";i.r(e);var s=i("4495"),a={name:"formSeven",props:["IDlist"],data:function(){return{rules:{name:[{required:!0,message:"请输入系统名称",trigger:"blur"}],description:[{required:!0,message:"请输入系统校训",trigger:"blur"}],websiteUrl:[{required:!0,message:"请输入学校官网地址",trigger:"blur"},{type:"url",message:"请输入正确格式的网址"}],advanceBackground:[{required:!0,message:"请选择预登陆背景图"}],advanceColor:[{required:!0,message:"请选择预登陆主题色"}]},formList:{id:"",logo:"",name:"",description:"",advanceBackground:"",advanceLogo:"",websiteUrl:"",advanceColor:"",webImConfig:1},fileList:[],dialogVisible:!1,dialogImageUrl:"",adLandingBackImgList:[],adLandingLogoList:[],sysLogo:[],countNum:1}},created:function(){this.detailWGFN()},methods:{validateValue:function(t,e,i){this.countNum||e||(this.countNum+=1,i&&this.$message.error(i))},toPreview:function(){var t=JSON.stringify(this.formList);sessionStorage.setItem("formValue",t);var e=window.location.protocol+"//"+window.location.host+window.location.pathname+"#/previewAdvanceLanding";window.open(e)},getAdLandingLogo:function(t){this.formList.advanceLogo=t.result},removeAdLandingLogo:function(){this.formList.advanceLogo="",this.adLandingLogoList=[]},removeSysLogo:function(){this.formList.logo="",this.sysLogo=[]},getSysLogo:function(t){this.formList.logo=t.result},removeAdLandingBackImg:function(){this.formList.advanceBackground="",this.adLandingBackImgList=[]},getAdLandingBackImg:function(t){this.formList.advanceBackground=t.result},handleExceed:function(){this.$message.error("一次只能上传一张图片")},submitFN:function(){var t=this;this.countNum=0,this.$nextTick((function(){t.$refs.formList.validate((function(e){if(!e)return!1;try{var i=t.formList;Object(s.c)(i).then((function(e){var i=e.data;1e3===i.status?t.$message.success("操作成功"):(t.countNum=1,t.$message.error(i.msg))}))}catch(e){t.countNum=1}}))}))},Reset:function(){this.fileList=[],this.adLandingBackImgList=[],this.sysLogo=[],this.adLandingLogoList=[],this.detailWGFN()},detailWGFN:function(){var t=this;try{Object(s.b)().then((function(e){var i=e.data;1e3===i.status?(Object.assign(t.formList,i.result[0]),t.adLandingBackImgList=[{url:t.formList.advanceBackground}],t.adLandingLogoList=[{url:t.formList.advanceLogo}],t.sysLogo=[{url:t.formList.logo}]):(Object.assign(t.$data,t.$options.data()),t.$message.error(i.msg))}))}catch(t){}},beforeUpload:function(t){return-1==["image/png","image/jpg","image/jpeg"].indexOf(t.type)?(this.$message.error("上传头像只能是png jpg jpeg图片格式!"),!1):t.size/1024/1024<=5?void 0:(this.$message.error("上传图片最大5M, 请重新上传!"),!1)},handleSuccess:function(t){this.formList.logo=t.result},handlePreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},hadleError:function(t){this.$message.error(t)},handleRemove:function(t,e){this.formList.logo=""},closePreview:function(){this.dialogVisible=!1}}},o=(i("3bc5"),i("2877")),n=Object(o.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"third looking-setting"},[i("div",{staticClass:"third-formOne adhibition"},[i("div",{staticClass:"formOne-btn"},[t._m(0),i("div",{staticClass:"btn-right"},[i("el-button",{staticClass:"btn-two",attrs:{type:"default"},on:{click:function(e){return t.Reset()}}},[t._v("重置")]),i("el-button",{directives:[{name:"el-disabel-repeat-click",rawName:"v-el-disabel-repeat-click"}],staticClass:"btn-two",attrs:{type:"primary"},on:{click:function(e){return t.submitFN()}}},[t._v("保存")])],1)]),i("el-form",{ref:"formList",attrs:{model:t.formList,rules:t.rules,"show-message":!1,"label-width":"100px"},on:{validate:t.validateValue}},[i("div",{staticClass:"formOne-forms"},[i("div",{staticClass:"forms-one",staticStyle:{"margin-top":"57px"}},[i("div",{staticClass:"one-title"},[i("div",{staticClass:"title-left"},[i("span",{staticClass:"left-icon"},[i("i",{staticClass:"el-icon-s-operation"})]),i("span",{staticClass:"left-content palTel"},[t._v("全局设置")])])]),i("div",{staticClass:"one-list myform"},[i("el-form-item",{attrs:{label:"系统名称",prop:"name"}},[i("el-input",{staticClass:"list-input myInput_config",attrs:{maxlength:16,placeholder:"请输入系统名称"},model:{value:t.formList.name,callback:function(e){t.$set(t.formList,"name","string"==typeof e?e.trim():e)},expression:"formList.name"}})],1),i("el-form-item",{attrs:{label:"学校校训",prop:"desc"}},[i("el-input",{staticClass:"list-input myInput_config",attrs:{maxlength:32,placeholder:"请输入学校校训"},model:{value:t.formList.description,callback:function(e){t.$set(t.formList,"description",e)},expression:"formList.description"}})],1)],1)]),i("div",{staticClass:"forms-one"},[i("div",{staticClass:"one-title"},[i("div",{staticClass:"title-left"},[i("span",{staticClass:"left-icon"},[i("i",{staticClass:"el-icon-s-operation"})]),i("span",{staticClass:"left-content palTel"},[t._v("预登陆设置")])])]),i("div",{staticClass:"one-list myform"},[i("el-form-item",{attrs:{label:"预登陆背景图",prop:"advanceBackground"}},[i("el-upload",{staticClass:"list-upload-img my-upload",attrs:{action:"/api/blade-platform/platformapplyguiselogo/upload",accept:".jpg, .jpeg, .png, .gif","list-type":"picture-card","file-list":t.adLandingBackImgList,"on-success":t.getAdLandingBackImg,"on-remove":t.removeAdLandingBackImg,"on-error":t.hadleError,"before-upload":t.beforeUpload,limit:1,"on-exceed":t.handleExceed,"on-preview":t.handlePreview}},[i("i",{staticClass:"el-icon-plus"}),i("div",{staticClass:"list-upload-title",staticStyle:{"font-size":"12px"}},[t._v("点击上传")]),i("div",{staticClass:"list-upload-tip my-upload-footer",staticStyle:{"font-size":"10px"},attrs:{slot:"tip"},slot:"tip"},[t._v("5M以内，支持扩展名.png、.jpg、.jpeg、.gif，建议为1920*1080px的矩形图片")])])],1),i("el-form-item",{staticClass:"advance-theme",attrs:{label:"预登陆主题色",prop:"advanceColor"}},[i("el-color-picker",{model:{value:t.formList.advanceColor,callback:function(e){t.$set(t.formList,"advanceColor",e)},expression:"formList.advanceColor"}}),i("span",{staticStyle:{display:"inline-block","vertical-align":"top",margin:"2px 5px"}},[t._v(t._s(t.formList.advanceColor))]),i("div",{staticStyle:{"font-size":"10px",color:"#aeaeb4"}},[t._v("用于预登陆页面按钮等颜色渲染，请勿设置白色及相近颜色，否则会导致文字内容不可见")]),i("el-button",{attrs:{type:"primary"},on:{click:t.toPreview}},[t._v("预览")])],1)],1)]),i("div",{staticClass:"forms-one"},[i("div",{staticClass:"one-title"},[i("div",{staticClass:"title-left"},[i("span",{staticClass:"left-icon"},[i("i",{staticClass:"el-icon-s-operation"})]),i("span",{staticClass:"left-content palTel"},[t._v("已登录设置")])])]),i("div",{staticClass:"one-list myform"},[i("el-form-item",{attrs:{label:"学校官网地址",prop:"websiteUrl"}},[i("el-input",{staticClass:"list-input myInput_config",attrs:{maxlength:100,placeholder:"请输入学校官网地址：http(s)"},model:{value:t.formList.websiteUrl,callback:function(e){t.$set(t.formList,"websiteUrl","string"==typeof e?e.trim():e)},expression:"formList.websiteUrl"}})],1),i("el-form-item",{attrs:{label:"WEB即时聊天"}},[i("el-radio-group",{model:{value:t.formList.webImConfig,callback:function(e){t.$set(t.formList,"webImConfig",e)},expression:"formList.webImConfig"}},[i("el-radio",{attrs:{label:1}},[t._v("开启")]),i("el-radio",{attrs:{label:0}},[t._v("关闭")])],1)],1)],1)])])])],1),i("preview-modal",{attrs:{previewModal:t.dialogVisible,previewImageUrl:t.dialogImageUrl},on:{previewClose:t.closePreview}})],1)}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"btn-left"},[i("span",{staticClass:"left-back-content"},[t._v("外观显示配置")])])}],!1,null,null,null);e.default=n.exports},c806:function(t,e,i){}}]);
//# sourceMappingURL=chunk-3aaa87b0.ed26f913.js.map
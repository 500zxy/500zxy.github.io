(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3e00cd09"],{4495:function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),i.d(e,"d",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return l}));var s=i("b775"),a="/api/blade-platform",o=function(t){return Object(s.a)({url:"".concat(a,"/platformsystemaccesslink/detail"),method:"get"})},n=function(t){return Object(s.a)({url:"".concat(a,"/platformsystemaccesslink/update"),method:"post",data:t})},r=function(t){return Object(s.a)({url:"".concat(a,"/platformapplyguiselogo/detail"),method:"get"})},l=function(t){return Object(s.a)({url:"".concat(a,"/platformapplyguiselogo/submit"),method:"post",data:t})}},"9fa3":function(t,e,i){},dbd8:function(t,e,i){"use strict";var s=i("9fa3");i.n(s).a},ff02:function(t,e,i){"use strict";i.r(e);var s=i("4495"),a=i("8a23"),o={name:"formSeven",props:["IDlist"],data:function(){return{rules:{name:[{required:!0,message:"请输入系统名称",trigger:"blur"}],description:[{required:!0,message:"请输入系统校训",trigger:"blur"}],advanceBackground:[{required:!0,message:"请选择预登陆背景图"}],advanceColor:[{required:!0,message:"请选择预登陆主题色"}],classStyle:[{required:!0,message:"请选择分类方式",trigger:"blur"}],websiteUrl:[{required:!0,message:"请输入完整的http（s）",trigger:"blur"},{type:"url",message:"请输入正确格式的网址"}],webImConfig:[{required:!0,message:"请选择通讯录",trigger:"blur"}]},formList:{id:"",logo:"",name:"",description:"",advanceBackground:"",advanceLogo:"",advanceColor:"",webImConfig:1,classStyle:1,nav:[{fieldName:"教工",checked:!0,name:""},{fieldName:"学生",checked:!0,name:""},{fieldName:"访客",checked:!1,name:""},{fieldName:"场景",checked:!0,name:""},{fieldName:"部门",checked:!0,name:""},{fieldName:"类型",checked:!0,name:""}],websiteUrl:""},fileList:[],dialogVisible:!1,dialogImageUrl:"",adLandingBackImgList:[],adLandingLogoList:[],sysLogo:[],countNum:1}},created:function(){this.detailWGFN()},mounted:function(){this.initSortabel()},methods:{initSortabel:function(){try{var t=document.querySelector(".one-list .list-one-line");t.ondrop=function(t){t.stopPropagation(),t.preventDefault()};var e=this;e.sortable=new a.a(t,{animation:300,onEnd:function(t){e.formList.nav.splice(t.newIndex,0,e.formList.nav.splice(t.oldIndex,1)[0]);var i=e.formList.nav.slice(0);e.formList.nav=[];var s=document.querySelector(".third-formOne").scrollTop;e.$nextTick((function(){e.formList.nav=i,e.sortable=null,e.$nextTick((function(){e.initSortabel(),document.querySelector(".third-formOne").scrollTop+=s}))}))}})}catch(t){}},validateValue:function(t,e,i){this.countNum||e||(this.countNum+=1,i&&this.$message.error(i))},toPreview:function(){var t=JSON.stringify(this.formList);sessionStorage.setItem("formValue",t);var e=window.location.protocol+"//"+window.location.host+window.location.pathname+"#/previewAdvanceLanding";window.open(e)},getAdLandingLogo:function(t){this.formList.advanceLogo=t.result},removeAdLandingLogo:function(){this.formList.advanceLogo="",this.adLandingLogoList=[]},removeSysLogo:function(){this.formList.logo="",this.sysLogo=[]},getSysLogo:function(t){this.formList.logo=t.result},removeAdLandingBackImg:function(){this.formList.advanceBackground="",this.adLandingBackImgList=[]},getAdLandingBackImg:function(t){this.formList.advanceBackground=t.result},handleExceed:function(){this.$message.error("一次只能上传一张图片")},submitFN:function(){var t=this;this.countNum=0,this.$nextTick((function(){t.$refs.formList.validate((function(e){if(!e)return!1;try{var i=t.formList;Object(s.c)(i).then((function(e){var i=e.data;1e3===i.status?t.$message.success("操作成功"):(t.countNum=1,t.$message.error(i.msg))}))}catch(e){t.countNum=1}}))}))},Reset:function(){this.$refs.formList.resetFields(),this.fileList=[],this.adLandingBackImgList=[],this.sysLogo=[],this.adLandingLogoList=[],this.detailWGFN()},detailWGFN:function(){var t=this;try{Object(s.b)().then((function(e){var i=e.data;1e3===i.status?(Object.assign(t.formList,i.result[0]),t.adLandingBackImgList=[{url:t.formList.advanceBackground}],t.adLandingLogoList=[{url:t.formList.advanceLogo}],t.sysLogo=[{url:t.formList.logo}]):(Object.assign(t.$data,t.$options.data()),t.$message.error(i.msg))}))}catch(t){}},beforeUpload:function(t){return-1==["image/png","image/jpg","image/jpeg"].indexOf(t.type)?(this.$message.error("上传头像只能是png jpg jpeg图片格式!"),!1):t.size/1024/1024<=5?void 0:(this.$message.error("上传图片最大5M, 请重新上传!"),!1)},handleSuccess:function(t){this.formList.logo=t.result},handlePreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},hadleError:function(t){this.$message.error(t)},handleRemove:function(t,e){this.formList.logo=""},closePreview:function(){this.dialogVisible=!1}}},n=(i("dbd8"),i("2877")),r=Object(n.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"third looking-setting"},[i("div",{staticClass:"third-formOne adhibition"},[i("div",{staticClass:"formOne-btn"},[t._m(0),i("div",{staticClass:"btn-right"},[i("el-button",{staticClass:"btn-two",attrs:{type:"default"},on:{click:function(e){return t.Reset()}}},[t._v("重置")]),i("el-button",{directives:[{name:"el-disabel-repeat-click",rawName:"v-el-disabel-repeat-click"}],staticClass:"btn-two",attrs:{type:"primary"},on:{click:function(e){return t.submitFN()}}},[t._v("保存")])],1)]),i("el-form",{ref:"formList",attrs:{model:t.formList,rules:t.rules,"show-message":!1,"label-width":"100px"},on:{validate:t.validateValue}},[i("div",{staticClass:"formOne-forms"},[t._e(),i("div",{staticClass:"forms-one",staticStyle:{"margin-top":"57px"}},[i("div",{staticClass:"one-title"},[i("div",{staticClass:"title-left"},[i("span",{staticClass:"left-icon"},[i("i",{staticClass:"el-icon-s-operation"})]),i("span",{staticClass:"left-content palTel"},[t._v("官网访问链接配置")])])]),i("div",{staticClass:"one-list myform"},[i("el-form-item",{attrs:{label:"官网地址",prop:"websiteUrl"}},[i("el-input",{staticClass:"list-input myInput_config",attrs:{maxlength:1e3,placeholder:"请输入完整的http（s）"},model:{value:t.formList.websiteUrl,callback:function(e){t.$set(t.formList,"websiteUrl","string"==typeof e?e.trim():e)},expression:"formList.websiteUrl"}})],1)],1)]),i("div",{staticClass:"forms-one"},[i("div",{staticClass:"one-title"},[i("div",{staticClass:"title-left"},[i("span",{staticClass:"left-icon"},[i("i",{staticClass:"el-icon-s-operation"})]),i("span",{staticClass:"left-content palTel"},[t._v("通讯录")])])]),i("div",{staticClass:"one-list myform"},[i("el-form-item",{attrs:{label:"通讯录",prop:"webImConfig"}},[i("el-radio-group",{model:{value:t.formList.webImConfig,callback:function(e){t.$set(t.formList,"webImConfig",e)},expression:"formList.webImConfig"}},[i("el-radio",{attrs:{label:1}},[t._v("开启")]),i("el-radio",{attrs:{label:0}},[t._v("关闭")])],1)],1)],1)])])])],1),i("preview-modal",{attrs:{previewModal:t.dialogVisible,previewImageUrl:t.dialogImageUrl},on:{previewClose:t.closePreview}})],1)}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"btn-left"},[i("span",{staticClass:"left-back-content"},[t._v("框架服务配置")])])}],!1,null,null,null);e.default=r.exports}}]);
//# sourceMappingURL=chunk-3e00cd09.f4c28b40.js.map
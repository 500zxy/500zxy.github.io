(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-47626b70"],{"0423":function(e,t,r){"use strict";var i=r("c866");r.n(i).a},"5fa9":function(e,t,r){"use strict";r.r(t);var i=(r("8e6e"),r("456d"),r("ac6a"),r("7f7f"),r("96cf"),r("3b8d")),a=r("bd86"),s=r("da6f"),n=r("2f62"),o=r("2ef0"),c=r("b775"),l=function(e){return Object(c.a)({url:"/api/blade-platform/questionbasicconfig/save",method:"post",data:e})};function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={name:"formSeven",data:function(){return{checkList:[],dialogImageUrl:"",dialogVisible:!1,pointList:[],rules:{name:[{required:!0,message:"请输入机器人名称",trigger:"blur"}],answer:[{required:!0,message:"请输入未知问题回答",trigger:"blur"}],headPortrait:[{required:!0,message:"请上传机器人头像",trigger:"change"}]},otherForm:{configId:"",answer:"",name:"",headPortrait:""},originalData:{},title:"",rowData:null,countNum:1,roleList:[],labelList:[],schoolList:[],fileList_S:[],uploadFilter:[".jpg",".jpeg",".png",".gif"],hideUpload_S:!1}},computed:f({},Object(n.d)({userInfo:function(e){return e.user.userInfo}})),created:function(){var e=Object(i.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getBasicInfo();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),methods:{handlePictureCardPreview_S:function(e){this.dialogVisible=!0,this.dialogImageUrl=e.url},handleRemove_S:function(e,t){this.fileList_S=[],this.hideUpload_S=!1,this.otherForm.headPortrait=""},beforeUpload_S:function(e){this.hideUpload_S=!0;var t=e.name.substring(e.name.lastIndexOf(".")).toLowerCase();return this.filterFileRes(t,this.uploadFilter)?e.size/1024/1024<=5?void 0:(this.$message.error("图片大小在5M以内，请重新上传！"),!1):(this.$message.error("上传文件格式错误"),!1)},filterFileRes:function(e,t){var r=!1;return t.forEach((function(t){t===e&&(r=!0)})),r},handleSuccess_S:function(e){this.otherForm.headPortrait=e.result,this.fileList_S=[{url:e.result}]},hadleError_S:function(e){this.$message.error(e),this.hideUpload_S=!1},closePreview:function(){this.dialogVisible=!1,this.dialogImageUrl=""},reset:function(){this.getBasicInfo()},commit:function(){var e=this;this.countNum=0,this.$nextTick((function(){e.$refs.otherForm.validate((function(t){if(!t)return!1;e.setBasicInfo()}))}))},eduotheruserinfoDetail:function(){var e=Object(i.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getCommitParams:function(){var e=Object(o.cloneDeep)(this.otherForm);return e.roleId=e.roleId.filter((function(e){return e})).join(","),e.lableId=e.lableId.filter((function(e){return e})).join(","),this.rowData?f({},{otherUserId:this.rowData.otherUserId,tenantId:this.userInfo.tenant_id,keyIds:this.rowData.keyId},{},e):f({tenantId:this.userInfo.tenant_id},e)},eduotheruserinfoSave:function(){var e=Object(i.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),eduotheruserinfoUpdate:function(){var e=Object(i.a)(regeneratorRuntime.mark((function e(){var t,r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getCommitParams(),e.next=3,eduotheruserinfoUpdatePort(t);case 3:if(r=e.sent,i=r.data,a=i.msg,1e3!==i.status){e.next=11;break}return this.$message.success("修改成功"),this.changeComponent(),e.abrupt("return");case 11:this.countNum=1,this.$message.error(a);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),changeComponent:function(){this.$emit("changeComponent","BasicPage"),Object(s.b)({name:"rowData",type:"session"})},validateValue:function(e,t,r){this.countNum||t||(this.countNum+=1,r&&this.$message.error(r))},getBasicInfo:function(){var e=Object(i.a)(regeneratorRuntime.mark((function e(){var t,r,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)({url:"/api/blade-platform/questionbasicconfig/detail",method:"get"});case 2:if(t=e.sent,r=t.data,i=r.result,a=r.status,s=r.msg,1e3!==a){e.next=12;break}return Object.assign(this.otherForm,i),i.headPortrait&&(this.fileList_S=[{url:i.headPortrait}],this.hideUpload_S=!0),e.abrupt("return");case 12:return e.abrupt("return",this.$message.error(s));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),setBasicInfo:function(){var e=Object(i.a)(regeneratorRuntime.mark((function e(){var t,r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(f({},this.otherForm));case 2:if(t=e.sent,r=t.data,i=r.status,a=r.msg,1e3!==i){e.next=10;break}return this.$message.success("保存成功"),this.getBasicInfo(),e.abrupt("return");case 10:return e.abrupt("return",this.$message.error(a));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}},p=(r("0423"),r("2877")),h=Object(p.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"third robot-basic-info"},[r("div",{staticClass:"third-formOne"},[r("div",{staticClass:"formOne-btn"},[e._m(0),r("div",{staticClass:"btn-right"},[r("el-button",{directives:[{name:"el-disabel-repeat-click",rawName:"v-el-disabel-repeat-click"}],staticClass:"btn-two",attrs:{type:"primary"},on:{click:e.commit}},[e._v("保存")]),r("el-button",{staticClass:"btn-two",attrs:{type:"default"},on:{click:e.reset}},[e._v("重置")])],1)]),r("el-form",{ref:"otherForm",attrs:{model:e.otherForm,rules:e.rules,"label-width":"86px","show-message":!1},on:{validate:e.validateValue}},[r("div",{staticClass:"formOne-forms"},[r("div",{staticClass:"forms-one",staticStyle:{"margin-top":"57px"}},[r("div",{staticClass:"one-title"},[r("div",{staticClass:"title-left"},[r("span",{staticClass:"left-icon"},[r("i",{staticClass:"el-icon-s-operation"})]),r("span",{staticClass:"left-content"},[e._v("基本信息")])])]),r("div",{staticClass:"one-list"},[r("div",{staticClass:"list-two-line"},[r("el-form-item",{attrs:{label:"机器人名称",prop:"name"}},[r("el-input",{staticClass:"list-input",attrs:{maxlength:20,placeholder:"请输入",disabled:"编辑"===e.title},model:{value:e.otherForm.name,callback:function(t){e.$set(e.otherForm,"name","string"==typeof t?t.trim():t)},expression:"otherForm.name"}})],1)],1),r("div",{staticClass:"list-two-line"},[r("el-form-item",{attrs:{label:"未知问题回答",prop:"answer"}},[r("el-input",{staticClass:"list-input",attrs:{maxlength:200,placeholder:"请输入",type:"textarea",rows:5},model:{value:e.otherForm.answer,callback:function(t){e.$set(e.otherForm,"answer","string"==typeof t?t.trim():t)},expression:"otherForm.answer"}})],1)],1),r("div",{staticClass:"list-two-line"},[r("el-form-item",{attrs:{label:"机器人头像",prop:"headPortrait"}},[r("el-upload",{staticClass:"list-upload-img",class:{hide:e.hideUpload_S},attrs:{limit:1,action:"/api/blade-platform/questionbasicconfig/upload",data:{fileType:1},"on-preview":e.handlePictureCardPreview_S,"on-remove":e.handleRemove_S,"on-success":e.handleSuccess_S,"on-error":e.hadleError_S,"before-upload":e.beforeUpload_S,"file-list":e.fileList_S,accept:".jpg, .jpeg, .png, .gif","list-type":"picture-card"}},[r("i",{staticClass:"el-icon-plus"}),r("div",{staticClass:"list-upload-title"},[e._v("点击上传")]),r("div",{staticClass:"list-upload-tip",attrs:{slot:"tip"},slot:"tip"},[e._v("5M以内，建议尺寸 255*255，支持扩展名.png、.jpg、.jpeg、.gif")])])],1)],1)])])])]),r("preview-modal",{attrs:{previewModal:e.dialogVisible,previewImageUrl:e.dialogImageUrl},on:{previewClose:e.closePreview}})],1)])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"btn-left"},[r("span",{staticClass:"left-back-content"},[e._v("机器人基础信息配置")])])}],!1,null,null,null);t.default=h.exports},c866:function(e,t,r){}}]);
//# sourceMappingURL=chunk-47626b70.06a46f4c.js.map
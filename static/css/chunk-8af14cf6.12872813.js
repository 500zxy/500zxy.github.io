(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8af14cf6"],{4109:function(t,e,a){"use strict";a.r(e);var i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"btn-left"},[a("span",{staticClass:"left-back-content"},[t._v("APP下载页面配置")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"phon-right",staticStyle:{"margin-top":"57px"}},[e("img",{staticClass:"phon-right-img",attrs:{src:a("c185"),alt:""}})])}],s=(a("ac6a"),a("7f7f"),a("b775")),r="/api/blade-platform",l={name:"formSeven",props:["IDlist"],data:function(){return{rules:{title:[{required:!0,message:"请输入",trigger:"blur"}],fileList_S:[{required:!0,message:"请输入",trigger:"blur"}],fileList_P:[{required:!0,message:"请输入",trigger:"blur"}],android_url:[{required:!0,message:"请输入",trigger:"blur"},{type:"string",pattern:/^http[s]?:\/\/.*/,message:"请完整输入http(s)",trigger:"blur"}],ios_url:[{required:!0,message:"请输入",trigger:"blur"},{type:"string",pattern:/^http[s]?:\/\/.*/,message:"请完整输入http(s)",trigger:"blur"}],domain_name:[{required:!0,message:"请输入",trigger:"blur"},{type:"string",pattern:/^http[s]?:\/\/.*/,message:"请完整输入http(s)",trigger:"blur"}],port:[{required:!0,message:"请输入",trigger:"blur"}]},dialogVisible:!1,dialogImageUrl:"",formData:{title:"",android_url:"",ios_url:"",domain_name:"",port:""},hideUpload_S:!1,fileList_S:[],hideUpload_P:!1,fileList_P:[],uploadFilter:[".jpg",".jpeg",".png"]}},created:function(){this.getAppWebsiteFN()},methods:{copyAppHref:function(t){var e=this;document.addEventListener("copy",(function a(i){i.preventDefault(),i.clipboardData.setData("text/plain",t),e.$message.success("复制成功"),document.removeEventListener("copy",a)})),document.execCommand("copy")},Reset:function(){this.$refs.formData.resetFields(),this.fileList_S=[],this.fileList_P=[],this.getAppWebsiteFN()},updateAppWebsiteFN:function(){var t=this;""!=this.formData.domain_name&&""!=this.formData.ios_url&&""!=this.formData.port&&""!=this.formData.pc_background&&""!=this.formData.mobile_background&&""!=this.formData.android_url&&""!=this.formData.title?this.$nextTick((function(){t.$refs.formData.validate((function(e){if(!e)return!1;try{(function(t){return Object(s.a)({url:"".concat(r,"/appconfiguration/updateAppWebsite"),method:"post",data:t})})(t.formData).then((function(e){var a=e.data;1e3===a.status?t.$message.success("操作成功"):t.$message({type:"error",message:a.msg})}))}catch(t){}}))})):this.$message.error("请填写完整信息！")},getAppWebsiteFN:function(){var t=this;try{Object(s.a)({url:"".concat(r,"/appconfiguration/getAppWebsite"),method:"get"}).then((function(e){var a=e.data;1e3===a.status?a.result&&(t.formData=a.result,t.fileList_S.push({url:a.result.mobile_background}),t.fileList_P.push({url:a.result.pc_background}),1==t.fileList_S.length&&(t.hideUpload_S=!0),1==t.fileList_P.length&&(t.hideUpload_P=!0)):t.$message({type:"error",message:a.msg})}))}catch(t){}},handlePictureCardPreview_S:function(t){this.dialogVisible=!0,this.dialogImageUrl=t.url},handleRemove_S:function(t,e){this.fileList_S=[],this.hideUpload_S=!1,this.formData.mobile_background=""},beforeUpload_S:function(t){this.hideUpload_S=!0;var e=t.name.substring(t.name.lastIndexOf(".")).toLowerCase();return this.filterFileRes(e,this.uploadFilter)?t.size/1024/1024<2?void 0:(this.$message.error("图片大小在2M以内，请重新上传！"),!1):(this.$message.error("上传文件格式错误"),!1)},filterFileRes:function(t,e){var a=!1;return e.forEach((function(e){e===t&&(a=!0)})),a},handleSuccess_S:function(t){this.formData.mobile_background=t.data[0].oUrl},hadleError_S:function(t){this.$message.error(t),this.hideUpload_S=!1},handlePictureCardPreview_P:function(t){this.dialogVisible=!0,this.dialogImageUrl=t.url},handleRemove_P:function(t,e){this.fileList_P=[],this.hideUpload_P=!1,this.formData.pc_background=""},beforeUpload_P:function(t){this.hideUpload_P=!0;var e=t.size/1024/1024<2,a=t.name.substring(t.name.lastIndexOf(".")).toLowerCase();return this.filterFileRes(a,this.uploadFilter)?e?void 0:(this.$message.error("图片大小在2M以内，请重新上传！"),!1):(this.$message.error("上传文件格式错误"),!1)},handleSuccess_P:function(t){this.formData.pc_background=t.data[0].oUrl},hadleError_P:function(t){this.$message.error(t),this.hideUpload_P=!1},closePreview:function(){this.dialogVisible=!1,this.dialogImageUrl=""}},computed:{downloadAppLink:function(){return"".concat(window.location.origin+window.location.pathname+"#","/downloadPage")}}},o=(a("d8b2"),a("2877")),n=Object(o.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"third"},[a("div",{staticClass:"third-formOne"},[a("div",{staticClass:"formOne-btn"},[t._m(0),a("div",{staticClass:"btn-right"},[a("el-button",{staticClass:"btn-two",attrs:{type:"default"},on:{click:function(e){return t.Reset()}}},[t._v("重置")]),a("el-button",{directives:[{name:"el-disabel-repeat-click",rawName:"v-el-disabel-repeat-click"}],staticClass:"btn-two",attrs:{type:"primary"},on:{click:function(e){return t.updateAppWebsiteFN()}}},[t._v("保存")])],1)]),a("el-form",{staticStyle:{width:"60%",float:"left"},attrs:{"show-message":!1,"label-width":"86px"}},[a("div",{staticClass:"formOne-forms"},[a("div",{staticClass:"forms-one",staticStyle:{"margin-top":"57px"}},[a("div",{staticClass:"one-list"},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.rules,"label-width":"86px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{staticClass:"list-input",attrs:{maxlength:20,placeholder:"请输入"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),a("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{label:"手机背景图",prop:"title"}},[a("el-upload",{staticClass:"list-upload-img",class:{hide:t.hideUpload_S},attrs:{limit:1,action:"/api/blade-platform/serviceInfo/upload",data:{fileType:1},"on-preview":t.handlePictureCardPreview_S,"on-remove":t.handleRemove_S,"on-success":t.handleSuccess_S,"on-error":t.hadleError_S,"before-upload":t.beforeUpload_S,"file-list":t.fileList_S,accept:".jpg,.jpeg,.png","list-type":"picture-card"}},[a("i",{staticClass:"el-icon-plus"}),a("div",{staticClass:"list-upload-title"},[t._v("点击上传")]),a("div",{staticClass:"list-upload-tip",attrs:{slot:"tip"},slot:"tip"},[t._v("2M以内，建议大小750px*1334px，支持扩展名.png、.jpg、.jpeg")])])],1),a("el-form-item",{attrs:{label:"PC背景图",prop:"title"}},[a("el-upload",{staticClass:"list-upload-img",class:{hide:t.hideUpload_P},attrs:{limit:1,action:"/api/blade-platform/serviceInfo/upload",data:{fileType:1},"on-preview":t.handlePictureCardPreview_P,"on-remove":t.handleRemove_P,"on-success":t.handleSuccess_P,"on-error":t.hadleError_P,"before-upload":t.beforeUpload_P,"file-list":t.fileList_P,accept:".jpg,.jpeg,.png","list-type":"picture-card"}},[a("i",{staticClass:"el-icon-plus"}),a("div",{staticClass:"list-upload-title"},[t._v("点击上传")]),a("div",{staticClass:"list-upload-tip",attrs:{slot:"tip"},slot:"tip"},[t._v("2M以内，建议大小1920px*1080px，支持扩展名.png、.jpg、.jpeg")])])],1),a("el-form-item",{attrs:{label:"安卓下载地址",prop:"android_url"}},[a("el-input",{staticClass:"list-input",attrs:{maxlength:500,placeholder:"请输入"},model:{value:t.formData.android_url,callback:function(e){t.$set(t.formData,"android_url",e)},expression:"formData.android_url"}})],1),a("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{label:"iOS下载地址",prop:"ios_url"}},[a("el-input",{staticClass:"list-input",attrs:{maxlength:500,placeholder:"请输入"},model:{value:t.formData.ios_url,callback:function(e){t.$set(t.formData,"ios_url",e)},expression:"formData.ios_url"}})],1),a("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{label:"域名",prop:"domain_name"}},[a("el-input",{staticClass:"list-input",attrs:{maxlength:500,placeholder:"请输入"},model:{value:t.formData.domain_name,callback:function(e){t.$set(t.formData,"domain_name",e)},expression:"formData.domain_name"}})],1),a("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{label:"端口",prop:"port"}},[a("el-input",{staticClass:"list-input",attrs:{maxlength:6,value:t.formData.port,placeholder:"请输入"},on:{input:function(e){(e=e.replace(/\D/g,"")).length>6&&(e=e.subString(0,5)),t.formData.port=e}}})],1),a("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{label:"App下载地址"}},[a("span",[t._v(t._s(t.downloadAppLink))]),a("span",{staticStyle:{color:"#2186EB","margin-left":"10px",cursor:"pointer","font-size":"12px"},on:{click:function(e){return t.copyAppHref(t.downloadAppLink)}}},[t._v("复制")])])],1)],1)])])]),t._m(1)],1),a("preview-modal",{attrs:{previewModal:t.dialogVisible,previewImageUrl:t.dialogImageUrl},on:{previewClose:t.closePreview}})],1)}),i,!1,null,null,null);e.default=n.exports},6521:function(t,e,a){},c185:function(t,e,a){t.exports=a.p+"img/gw.1a52dfcf.gif"},d8b2:function(t,e,a){"use strict";var i=a("6521");a.n(i).a}}]);
//# sourceMappingURL=chunk-8af14cf6.12872813.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-01c052d8"],{"43ff":function(t,e,a){"use strict";var o=a("7f37");a.n(o).a},"7f37":function(t,e,a){},bd36:function(t,e,a){"use strict";a.r(e);var o=(a("c5f6"),a("ac6a"),a("7f7f"),a("2f62"),a("da6f")),l=(a("2ef0"),a("b775")),s="/api/blade-platform",i={name:"ListingMarkManagementIndex",data:function(){return{loading:!1,titel:"",orderConfig:"",red:"red",black:"black",blue:"blue",brown:"brown",tableRow:[{column:"标记名称",key:"name",needKeyValue:!1,caseKey:"name"},{column:"标记预览",key:"name",needKeyValue:!0,needKeyValue_color:"background_color",caseKey:"note"},{column:"创建时间",key:"create_time",needKeyValue:!1,caseKey:"quote_type"},{column:"更新时间",key:"update_time",needKeyValue:!1,caseKey:"status"}],pageIndex:1,pageSize:40,total:0,labelName:"",tableData:[],add_color:"",id:"",rules:{name:[{required:!0,message:" ",trigger:"blur"}]},ruleForm:{name:"",name_color:"请输入"},dialogTableVisible_1:!1,noticeModal_danshan:!1,noticeType_danshan:1,noitceContent_danshan:"标记删除后，所有相关服务的标记将一并被删除",noticeTitle_danshan:"提示",noticeSpec_danshan:"",deletRow:"",color_list_data:[],const_color:""}},created:function(){var t=this.getSessonValue("ListingMarkManagementChange"),e=this.getSessonValue("ListingMarkManagement");t&&(this.orderConfig=t),this.tableDataShow=e||this.tableRow},mounted:function(){this.selectList()},computed:{},methods:{getRowKey:function(t){return t.id},valueChange:function(t){this.ruleForm.name=t.trim(),this.ruleForm.name_color=this.ruleForm.name,""==this.ruleForm.name.trim()&&(this.ruleForm.name_color="请输入",this.add_color=this.color_list_data[0].color,this.color_list_data.forEach((function(t){t.activeClass="myName"})),this.color_list_data[0].activeClass="myName_new")},changeColor:function(t){""!=this.ruleForm.name&&(this.add_color=t.color,this.const_color=t.color,this.color_list_data.forEach((function(t){t.activeClass="myName"})),t.activeClass="myName_new")},enter:function(t){""!=this.ruleForm.name&&(this.add_color=t.color)},leave:function(){""!=this.ruleForm.name&&(this.add_color=this.const_color)},get_color:function(t){var e=this;try{Object(l.a)({url:"".concat(s,"/dict/list"),method:"get"}).then((function(a){var o=a.data;if(1e3===o.status){for(var l=o.result,s=0;s<l.length;s++)6==l[s].type&&(e.color_list_data.push({color:l[s].value,activeClass:"myName"}),""==e.add_color&&(e.add_color=e.color_list_data[0].color,e.const_color=e.color_list_data[0].color,e.color_list_data[0].activeClass="myName_new"));t&&e.color_list_data.forEach((function(e){e.color==t.background_color&&(e.activeClass="myName_new")}))}else e.$message.error(o.msg)}))}catch(t){}},selectList:function(){var t=this;try{var e={labelName:this.labelName,pageIndex:this.pageIndex,pageSize:this.pageSize};this.loading=!0,function(t){return Object(l.a)({url:"".concat(s,"/shelflabel/list"),method:"post",data:t})}(e).then((function(e){t.loading=!1;var a=e.data;1e3===a.status?(t.tableData=a.result.data,t.total=Number(a.result.total)):t.$message.error(a.msg)}))}catch(t){this.loading=!1}},searchFN:function(){this.selectList()},resetForm:function(){this.pageIndex=1,this.pageSize=40,this.labelName="",this.selectList()},handleSizeChange:function(t){this.pageIndex=1,this.pageSize=t,this.selectList()},handleCurrentChange:function(t){this.pageIndex=t,this.selectList()},addData:function(){var t=this;if(""!=this.ruleForm.name.trim())try{(function(t){return Object(l.a)({url:"".concat(s,"/shelflabel/submit"),method:"post",data:t})})({id:this.id,name:this.ruleForm.name,background_color:this.add_color}).then((function(e){var a=e.data;1e3===a.status?(t.$message.success("操作成功"),t.dialogTableVisible_1=!1):t.$message.error(a.msg)}))}catch(t){}else this.$message.error("请输入标记名称")},closeDialog_1:function(){this.color_list_data=[],this.ruleForm.name="",this.ruleForm.name_color="请输入",this.add_color="",this.const_color="",this.id="",this.selectList()},bianji:function(t){this.get_color(t),this.titel="编辑标记",this.dialogTableVisible_1=!0,this.ruleForm.name_color=t.name,this.ruleForm.name=t.name,this.add_color=t.background_color,this.const_color=t.background_color,this.id=t.id},deltel:function(t){this.noticeModal_danshan=!0,this.deletRow=t.id},deltel_FN:function(){var t=this;try{(function(t){return Object(l.a)({url:"".concat(s,"/shelflabel/remove"),method:"post",data:t})})({ids:this.deletRow}).then((function(e){var a=e.data;1e3===a.status?(t.$message.success("操作成功"),t.selectList()):t.$message.error(a.msg),t.noticeModal_danshan=!1}))}catch(t){}},getSessonValue:function(t){return Object(o.a)({name:t,type:"session"})}}},n=(a("43ff"),a("2877")),r=Object(n.a)(i,(function(){var t=this,e=this,a=e.$createElement,o=e._self._c||a;return o("div",{staticClass:"third ListingMarkManagement"},[o("div",{staticClass:"third-rea"},[o("div",{staticClass:"third-btn"},[o("div",{staticClass:"btn-left"},[e._v("检索条件")]),o("div",{staticClass:"btn-right"},[o("el-button",{staticClass:"btn-two",attrs:{type:"primary"},on:{click:e.searchFN}},[e._v("查询")]),o("el-button",{staticClass:"btn-two",attrs:{type:"default"},on:{click:e.resetForm}},[e._v("重置")])],1)]),o("div",{staticClass:"third-search"},[o("el-form",{attrs:{inline:!0,"label-width":"76px"}},[o("div",{staticClass:"search-row"},[o("div",{staticClass:"row-item"},[o("el-form-item",{attrs:{label:"标记名称"}},[o("el-input",{staticClass:"item-input",attrs:{maxlength:30,placeholder:"请输入"},model:{value:e.labelName,callback:function(t){e.labelName=t},expression:"labelName"}})],1)],1)])])],1)]),o("div",{staticClass:"third-one"},[o("div",{staticClass:"third-do-btn"},[o("div",{staticClass:"do-btn-left"},[o("el-button",{staticClass:"do-btn-four",attrs:{type:"default",icon:"el-icon-plus"},on:{click:function(){e.dialogTableVisible_1=!0,t.get_color(),t.titel="新增标记"}}},[e._v("新增")])],1)]),[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"otherTableBasic",staticClass:"third-tableThree",attrs:{data:e.tableData,border:"",stripe:"","row-key":e.getRowKey}},[e._l(e.tableDataShow,(function(t,a){return[t.needKeyValue?o("el-table-column",{key:a,staticStyle:{color:"red"},attrs:{"min-width":"100px",prop:t.key,label:t.column,"show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(a){return[o("span",{staticClass:"my_name",staticStyle:{color:"white"},style:{"background-color":a.row[t.needKeyValue_color]}},[e._v(e._s(a.row[t.key]))])]}}],null,!0)}):o("el-table-column",{key:a,staticStyle:{color:"red"},attrs:{"min-width":"100px",prop:t.key,label:t.column,"show-overflow-tooltip":!0}})]})),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.bianji(a)}}},[e._v("编辑")]),o("span",{staticClass:"table-middle_line"}),o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.deltel(a)}}},[e._v("删除")])]}}])})],2),o("div",{staticClass:"third-page"},[o("el-pagination",{attrs:{"current-page":e.pageIndex,background:"","page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]],2),o("div",{staticClass:"add-member-modal mymodal_1"},[o("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{width:"592px",visible:e.dialogTableVisible_1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogTableVisible_1=t},close:e.closeDialog_1}},[o("div",{staticClass:"member-modal-title",staticStyle:{"line-height":"14px"},attrs:{slot:"title"},slot:"title"},[o("span",{staticClass:"modal-title-span"},[e._v(e._s(e.titel))])]),o("div",{staticClass:"member-modal-content"},[o("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"86px"}},[o("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{label:"标记名称",prop:"name"}},[o("el-input",{staticClass:"list-input",attrs:{value:e.ruleForm.name,maxlength:3,placeholder:"请输入3个字符以内"},on:{input:e.valueChange}})],1),o("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{label:"标记背景色",prop:"name"}},e._l(e.color_list_data,(function(t,a){return o("span",{key:a,class:t.activeClass,style:{"background-color":t.color},on:{click:function(a){return e.changeColor(t)},mouseenter:function(a){return e.enter(t)},mouseleave:function(a){return e.leave(t)}}})})),0),o("el-form-item",{staticStyle:{"margin-top":"20px",color:"white"},attrs:{label:"效果预览"}},[o("span",{staticClass:"new_myName",style:{"background-color":e.add_color}},[e._v(e._s(e.ruleForm.name_color))])])],1)],1),o("div",{staticClass:"member-modal-footer",staticStyle:{"line-height":"0px"},attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticClass:"modal-footer-two",on:{click:function(t){e.dialogTableVisible_1=!1}}},[e._v("取消")]),o("el-button",{staticClass:"modal-footer-two",attrs:{type:"primary"},on:{click:e.addData}},[e._v("保存")])],1)])],1),o("new-notice-modal",{attrs:{noticeModalVisible:e.noticeModal_danshan,noticeTitle:e.noticeTitle_danshan,noticeType:e.noticeType_danshan,noticeContent:e.noitceContent_danshan,noticeSpec:e.noticeSpec_danshan},scopedSlots:e._u([{key:"footer",fn:function(){return[[o("el-button",{staticClass:"modal-footer-two",on:{click:function(t){e.noticeModal_danshan=!1}}},[e._v("取消")]),o("el-button",{staticClass:"modal-footer-two",attrs:{type:"primary"},on:{click:e.deltel_FN}},[e._v("确定")])]]},proxy:!0}])})],1)}),[],!1,null,null,null);e.default=r.exports}}]);
//# sourceMappingURL=chunk-01c052d8.301a3fdb.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a6a3f62c"],{4495:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"d",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return l}));var s=i("b775"),a="/api/blade-platform",r=function(t){return Object(s.a)({url:"".concat(a,"/platformsystemaccesslink/detail"),method:"get"})},n=function(t){return Object(s.a)({url:"".concat(a,"/platformsystemaccesslink/update"),method:"post",data:t})},o=function(t){return Object(s.a)({url:"".concat(a,"/platformapplyguiselogo/detail"),method:"get"})},l=function(t){return Object(s.a)({url:"".concat(a,"/platformapplyguiselogo/submit"),method:"post",data:t})}},"5edd":function(t,e,i){},"601b":function(t,e,i){"use strict";var s=i("7e35");i.n(s).a},6220:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"h",(function(){return n})),i.d(e,"f",(function(){return o})),i.d(e,"c",(function(){return l})),i.d(e,"b",(function(){return c})),i.d(e,"d",(function(){return d})),i.d(e,"e",(function(){return u})),i.d(e,"g",(function(){return m}));var s=i("b775"),a="/api/blade-platform",r=function(){return Object(s.a)({url:"".concat(a,"/serviceItem/itemlist"),method:"get"})},n=function(t){return Object(s.a)({url:"".concat(a,"/serviceItem/updateStatus"),method:"post",data:t})},o=function(t){return Object(s.a)({url:"".concat(a,"/serviceItem/itemDetail"),method:"post",data:t})},l=function(t){return Object(s.a)({url:"".concat(a,"/serviceItem/getMpList"),method:"post",data:t})},c=function(t){return Object(s.a)({url:"".concat(a,"/serviceItem/getMpListNS"),method:"post",data:t})},d=function(){return Object(s.a)({url:"".concat(a,"/serviceItem/getServiceType"),method:"get"})},u=function(){return Object(s.a)({url:"".concat(a,"/serviceItem/issueNewConfig"),method:"get"})},m=function(t){return Object(s.a)({url:"".concat(a,"/serviceItem/update"),method:"post",data:t})}},"7e35":function(t,e,i){},ac8c:function(t,e,i){"use strict";i.r(e);var s=(i("28a5"),i("7514"),i("ac6a"),i("96cf"),i("3b8d")),a=i("75fc"),r=(i("4495"),i("8a23")),n=(i("20d6"),i("6220"),i("da6f")),o={name:"addMemberModal",props:{addData:{type:Object},addItem:{type:Object},addColumn:{type:Array},addModalVisible:{type:Boolean,default:!1},addModalTitle:{type:String,default:"添加人员（不含已有人员）"},addType:{type:String,default:"1"},closeonclickmodal:{type:Boolean,default:!1},NowCustomerId:{type:String},choosedList:{type:Array,default:function(){return[]}},initChoosedList:{type:Array,default:function(){return[]}}},watch:{choosedList:function(){this.cpChoosedList=this.choosedList},addModalVisible:function(t){this.resetInput(),t?(this.selectCount=0,this.selectArr=[],this.platformPreLoginPageShoConfigGetAccessWayList(),this.getAccessWayList(),this.selectedList=[],this.selectedList=this.choosedList,this.resetSearch=!0,this.tableText="请根据需求，对服务进行检索"):this.resetInput()},tableData:function(){var t=this;this.$refs.addMemberTable1.clearSelection(),this.selectedList.length&&this.selectedList.forEach((function(e){var i=t.tableData,s=i.findIndex((function(t){return t.id===e.id}));-1!==s&&t.$nextTick((function(){t.$refs.addMemberTable1.toggleRowSelection(i[s],!0)}))}))}},created:function(){},data:function(){return{cpChoosedList:this.choosedList,isNeedRrefresh:!0,accessWay:void 0,serviceName:"",userEnvironment:void 0,loading:!1,onlyId:"id",addPage:1,addPageSize:10,stuAddTotal:0,tableData:[],selectArr:[],allSelect:!1,resetSearch:!1,selectCount:0,fixCount:0,selectedList:[],selectedList1:[],selectedIds:[],tableText:"暂无数据",typeList:[],syhjList:[]}},methods:{pageChanageSelect:function(){var t=this;this.tableData.forEach((function(e){t.allSelect?(e.isChecked=!0,t.$refs.addMemberTable1.toggleRowSelection(e,!0),0!==t.selectArr.length&&t.selectArr.forEach((function(i){e[t.onlyId]===i[t.onlyId]&&(e.isChecked=!1,t.$refs.addMemberTable1.toggleRowSelection(e,!1))}))):0!==t.selectArr.length&&t.selectArr.forEach((function(i){e[t.onlyId]===i[t.onlyId]&&(e.isChecked=!0,t.$refs.addMemberTable1.toggleRowSelection(e,!0))}))}))},platformPreLoginPageShoConfigGetAccessWayList:function(){var t=Object(s.a)(regeneratorRuntime.mark((function t(){var e,i,s,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch("platformPreLoginPageShoConfigGetAccessWayList");case 3:e=t.sent,i=e.data,s=i.status,a=i.msg,r=i.result,1e3===s?this.typeList=r:this.$message({type:"error",message:a}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),getAccessWayList:function(){var t=Object(s.a)(regeneratorRuntime.mark((function t(){var e,i,s,a,r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch("getAccessWayList");case 3:e=t.sent,i=e.data,s=i.status,a=i.msg,r=i.result,1e3===s?r?(n=r.filter((function(t){return 1===t.type})),this.syhjList=n):this.syhjList=[]:this.$message({type:"error",message:a}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),refreshDialog:function(){var t=this;this.isNeedRrefresh=!1,this.$nextTick((function(){t.isNeedRrefresh=!0}))},getMpList:function(){var t=Object(s.a)(regeneratorRuntime.mark((function t(){var e,i,s,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.serviceName||null!=this.userEnvironment||null!=this.accessWay){t.next=2;break}return t.abrupt("return");case 2:return this.tableText="暂无数据",this.tableData=[],e=[],this.choosedList.forEach((function(t){e.push(t.id)})),t.next=8,this.$store.dispatch("thirdPartyServiceInfoList",{serviceName:this.serviceName,userEnvironment:this.userEnvironment,accessWay:this.accessWay,pageIndex:this.addPage,pageSize:this.addPageSize,ignoreIds:e.join(","),dataSortStr:"sort ASC,update_time DESC"});case 8:if(i=t.sent,s=i.data,a=s.result,r=s.msg,1e3!==s.status){t.next=17;break}return this.tableData=a.data,this.stuAddTotal=a.total,t.abrupt("return");case 17:return t.abrupt("return",this.$message.error(r));case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),resetFormData:function(){var t=this;this.$nextTick(Object(s.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.selectCount=0,t.allSelect=!1,t.selectArr=[],t.addPage=1,e.next=6,t.getMpList();case 6:case"end":return e.stop()}}),e)}))))},searchInput:function(){var t=Object(s.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.addPage=1,t.next=3,this.getMpList();case 3:this.pageChanageSelect();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),resetInput:function(){var t=this;this.addPage=1,this.serviceName="",this.userEnvironment=void 0,this.accessWay=void 0,this.tableData=[],this.stuAddTotal=0,this.tableText="请根据需求，对服务进行检索",this.$nextTick((function(){t.$refs.addMemberTable1.clearSelection()})),this.selectCount=0,this.allSelect=!1,this.selectArr=[],this.searchInput(),this.pageChanageSelect()},selectAllBox:function(t){var e=this;this.allSelect?(0===t.length?this.tableData.forEach((function(t){t.isChecked=!1,-1===e.selectArr.indexOf(t)&&e.selectArr.push(t)})):t.forEach((function(t){t.isChecked=!0,e.selectArr.forEach((function(i){t[e.onlyId]===i[e.onlyId]&&e.selectArr.splice(e.selectArr.indexOf(i),1)}))})),this.selectCount=this.fixCount-this.selectArr.length):(0===t.length?(t.length,this.tableData.forEach((function(t){t.isChecked=!1,e.selectArr.forEach((function(i){t[e.onlyId]===i[e.onlyId]&&e.selectArr.splice(e.selectArr.indexOf(i),1)}))}))):t.forEach((function(t){t.isChecked=!0,e.selectArr.forEach((function(i){t[e.onlyId]===i[e.onlyId]&&e.selectArr.splice(e.selectArr.indexOf(i),1)})),-1===e.selectArr.indexOf(t)&&e.selectArr.push(t)})),this.selectCount=this.selectArr.length)},handleSelection:function(t,e){var i=this;e.isChecked=!e.isChecked,this.allSelect?(e.isChecked||-1!==this.selectArr.indexOf(e)?this.selectArr.forEach((function(t){t[i.onlyId]===e[i.onlyId]&&i.selectArr.splice(i.selectArr.indexOf(t),1)})):this.selectArr.push(e),this.selectCount=this.fixCount-this.selectArr.length):(e.isChecked&&-1===this.selectArr.indexOf(e)?this.selectArr.push(e):this.selectArr.forEach((function(t){t[i.onlyId]===e[i.onlyId]&&i.selectArr.splice(i.selectArr.indexOf(t),1)})),this.selectCount=this.selectArr.length)},selectAll:function(){},cancelAll:function(){},addSizeChange:function(){var t=Object(s.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.addPage=1,this.addPageSize=e,t.next=4,this.getMpList();case 4:this.pageChanageSelect();case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),addCurrentChange:function(){var t=Object(s.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.addPage=e,t.next=3,this.getMpList();case 3:this.pageChanageSelect();case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),handleClose:function(){this.selectCount=0,this.allSelect=!1,this.selectArr=[],this.addPage=1,this.$emit("closeAddModal")},agreeAdd:function(){if(0===this.selectCount)return this.$message.warning("请选择需要新增的第三方关注内容");this.$emit("addData",this.selectArr)},closeModal:function(){this.selectCount=0,this.allSelect=!1,this.selectArr=[],this.addPage=1,this.$emit("closeAddModal")}}},l=(i("601b"),i("2877")),c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isNeedRrefresh?i("div",{staticClass:"add-member-modal fdyModal"},[i("el-dialog",{attrs:{visible:t.addModalVisible,width:"932px","before-close":t.handleClose,"close-on-click-modal":t.closeonclickmodal},on:{"update:visible":function(e){t.addModalVisible=e}}},[i("div",{staticClass:"member-modal-title",attrs:{slot:"title"},slot:"title"},[i("span",{staticClass:"modal-title-span"},[t._v("添加第三方关注内容")])]),i("div",{staticClass:"member-modal-content"},[i("div",{staticClass:"third-rea"},[i("div",{staticClass:"third-btn"},[i("div",{staticClass:"btn-left"},[t._v("检索条件")]),i("div",{staticClass:"btn-right"},[i("el-button",{staticClass:"btn-two",attrs:{type:"primary"},on:{click:t.searchInput}},[t._v("查询")]),i("el-button",{staticClass:"btn-two",attrs:{type:"default"},on:{click:t.resetInput}},[t._v("重置")])],1)]),i("div",{staticClass:"third-search",staticStyle:{"padding-bottom":"0"}},[i("el-form",{attrs:{inline:!0,model:t.addData,"label-width":"76px"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchInput(e)}}},[i("div",{staticClass:"search-row"},[i("div",{staticClass:"row-item member-search-item"},[i("el-form-item",{attrs:{label:"服务名称"}},[i("el-input",{staticClass:"item-input",attrs:{maxlength:30,placeholder:"请输入"},model:{value:t.serviceName,callback:function(e){t.serviceName="string"==typeof e?e.trim():e},expression:"serviceName"}})],1)],1),i("div",{staticClass:"row-item member-search-item"},[i("el-form-item",{attrs:{label:"使用环境"}},[i("el-select",{staticClass:"item-input",attrs:{placeholder:"请选择"},model:{value:t.userEnvironment,callback:function(e){t.userEnvironment=e},expression:"userEnvironment"}},[i("el-option",{attrs:{label:"全部",value:""}}),t._l(t.syhjList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.value,value:t.id}})}))],2)],1)],1),i("div",{staticClass:"row-item member-search-item"},[i("el-form-item",{attrs:{label:"接入方式"}},[i("el-select",{staticClass:"item-input",attrs:{placeholder:"请选择"},model:{value:t.accessWay,callback:function(e){t.accessWay=e},expression:"accessWay"}},[i("el-option",{attrs:{label:"全部",value:""}}),t._l(t.typeList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.value,value:t.id}})}))],2)],1)],1)])])],1)]),i("div",{staticClass:"third-one"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"addMemberTable1",staticClass:"third-tableThree tableThree-add",attrs:{data:t.tableData,"empty-text":t.tableText,border:"",stripe:"","row-key":"id"},on:{select:t.handleSelection,"select-all":t.selectAllBox}},[i("el-table-column",{attrs:{type:"selection",width:"32px","reserve-selection":!0}}),i("el-table-column",{attrs:{prop:"service_name",label:"服务名称","show-overflow-tooltip":!0}}),i("el-table-column",{attrs:{prop:"userEnvironment",label:"使用环境","show-overflow-tooltip":!0}}),i("el-table-column",{attrs:{prop:"accessWay",label:"接入方式","show-overflow-tooltip":!0}})],1),i("div",{staticClass:"third-page add-modal-page"},[i("div",{staticClass:"page-left"},[i("span",{staticClass:"left-data"},[t._v("已选中"+t._s(t.selectCount)+"条数据")])]),i("el-pagination",{staticClass:"page-right",attrs:{"current-page":t.addPage,background:"","page-sizes":[10,20,30,40],"page-size":t.addPageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.stuAddTotal},on:{"size-change":t.addSizeChange,"current-change":t.addCurrentChange}})],1)],1)]),i("div",{staticClass:"member-modal-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticClass:"modal-footer-two",on:{click:t.closeModal}},[t._v("取消")]),i("el-button",{directives:[{name:"el-disabel-repeat-click",rawName:"v-el-disabel-repeat-click"}],staticClass:"modal-footer-two",attrs:{type:"primary",disabled:!t.selectCount},on:{click:t.agreeAdd}},[t._v("确定")])],1)])],1):t._e()}),[],!1,null,null,null).exports,d=i("2ef0"),u={name:"formSeven",props:["IDlist"],components:{addOfficalAccounts:c},data:function(){return{rules:{otherLoginName:[{required:!0,message:"请输入登录名称",trigger:"blur"}],topDrawingUrl:[{required:!0,message:"请选择顶部配图"}],prepareLoginBackgroud:[{required:!0,message:"请选择预登陆主题色",trigger:"blur"}],otherLoginShow:[{required:!0,message:"请选择其他用户登录展示",trigger:"blur"}],classStyle:[{required:!0,message:"请选择分类方式",trigger:"blur"}],searchPrompt:[{required:!0,message:"请输入搜索框提示语",trigger:"blur"}],statisticsIdentity:[{required:!0,message:"请选择范围数据统计",trigger:"blur"}]},formList:{id:"",otherLoginName:"",otherLoginShow:1,topDrawingUrl:"",prepareLoginBackgroud:"",topDrawingPoster:"",webImConfig:1,classStyle:1,searchPrompt:"",statisticsIdentity:["1","2"],showIdentityVOS:[{fieldName:"教工",orderNumber:"",isSelect:!0,value:"",fieldId:"1"},{fieldName:"学生",orderNumber:"",isSelect:!0,value:"",fieldId:"2"},{fieldName:"访客",orderNumber:"",isSelect:"",value:"",fieldId:"3"}],showTypeVOS:[{fieldName:"场景",orderNumber:"",value:"",fieldId:"1"},{fieldName:"部门",orderNumber:"",value:"",fieldId:"2"},{fieldName:"类型",orderNumber:"",value:"",fieldId:"3"}],recommendedColumnVOS:[{fieldName:"推荐",orderNumber:"",value:"",fieldId:"1"},{fieldName:"上新",orderNumber:"",value:"",fieldId:"2"},{fieldName:"热门",orderNumber:"",value:"",fieldId:"3"}]},fileList:[],dialogVisible:!1,dialogImageUrl:"",adLandingBackImgList:[],adLandingLogoList:[],sysLogo:[],countNum:1,addModalVisible:!1,currentTableData:[],isDisable:!1,SBDisabled:!1}},created:function(){this.detailWGFN()},mounted:function(){this.initSortabel(),this.initSortabelTwo(),this.initSortabelThree(),this.initSortLabel()},computed:{},methods:{IsCheckedVisitor:function(t){if("访客"==t.fieldName&&(this.isDisable=t.isSelect),"访客"==t.fieldName&&0==t.isSelect){var e=this.formList.statisticsIdentity;this.formList.statisticsIdentity=e.filter((function(t){return"3"!==t}))}},handleRoleClose:function(t){var e=this.currentTableData;this.currentTableData=e.filter((function(e){return e!==t}))},addData:function(t){var e=Object(d.cloneDeep)(this.currentTableData),i=t.map((function(t){return{id:t.id,service_name:t.service_name}}));this.currentTableData=[].concat(Object(a.a)(i),Object(a.a)(e)),this.closeAddModal()},closeAddModal:function(){this.addModalVisible=!1},openAddDialog:function(){this.addModalVisible=!0},initSortLabel:function(){var t=document.querySelector(".myform .showTag"),e=this;e.sortable=new r.a(t,{animation:300,onEnd:function(t){e.currentTableData.splice(t.newIndex,0,e.currentTableData.splice(t.oldIndex,1)[0]);var i=e.currentTableData.slice(0);e.currentTableData=[],e.$nextTick((function(){e.currentTableData=i}))}})},initSortabel:function(){try{var t=document.querySelector(".one-list-one .list-one-line");t.ondrop=function(t){t.stopPropagation(),t.preventDefault()};var e=this;e.sortable=new r.a(t,{animation:300,onEnd:function(t){e.formList.showIdentityVOS.splice(t.newIndex,0,e.formList.showIdentityVOS.splice(t.oldIndex,1)[0]);var i=e.formList.showIdentityVOS.slice(0);e.formList.showIdentityVOS=[],e.$nextTick((function(){e.formList.showIdentityVOS=i,e.sortable=null,e.$nextTick((function(){e.initSortabel()}))}))}})}catch(t){}},initSortabelTwo:function(){try{var t=document.querySelector(".one-list-two .list-one-line");t.ondrop=function(t){t.stopPropagation(),t.preventDefault()};var e=this;e.sortable=new r.a(t,{animation:300,onEnd:function(t){e.formList.showTypeVOS.splice(t.newIndex,0,e.formList.showTypeVOS.splice(t.oldIndex,1)[0]);var i=e.formList.showTypeVOS.slice(0);e.formList.showTypeVOS=[],e.$nextTick((function(){e.formList.showTypeVOS=i,e.sortable=null,e.$nextTick((function(){e.initSortabelTwo()}))}))}})}catch(t){}},initSortabelThree:function(){try{var t=document.querySelector(".one-list-three .list-one-line");t.ondrop=function(t){t.stopPropagation(),t.preventDefault()};var e=this;e.sortable=new r.a(t,{animation:300,onEnd:function(t){e.formList.recommendedColumnVOS.splice(t.newIndex,0,e.formList.recommendedColumnVOS.splice(t.oldIndex,1)[0]);var i=e.formList.recommendedColumnVOS.slice(0);e.formList.recommendedColumnVOS=[],e.$nextTick((function(){e.formList.recommendedColumnVOS=i,e.sortable=null,e.$nextTick((function(){e.initSortabelThree()}))}))}})}catch(t){}},validateValue:function(t,e,i){this.countNum||e||(this.countNum+=1,i&&this.$message.error(i))},toPreview:function(){var t=JSON.stringify(this.formList);sessionStorage.setItem("formValue",t);var e=window.location.protocol+"//"+window.location.host+window.location.pathname+"#/previewAdvanceLanding";window.open(e)},removeAdLandingBackImg:function(){this.formList.topDrawingUrl="",this.adLandingBackImgList=[]},getAdLandingBackImg:function(t){if(1e3!=t.status)return this.$message.error(t.msg),this.formList.topDrawingUrl="",void(this.adLandingBackImgList=[]);this.formList.topDrawingUrl=t.result,this.adLandingBackImgList=[{name:(new Date).getTime(),url:t.result}]},handleExceed:function(){this.$message.error("一次只能上传一张图片")},submitFN:function(){var t=this;this.countNum=0,this.$nextTick((function(){t.$refs.formList.validate((function(e){if(!e)return!1;try{t.countNum=1,t.SBDisabled=!0,t.goSubmit()}catch(e){t.countNum=1}}))}))},goSubmit:function(){var t=Object(s.a)(regeneratorRuntime.mark((function t(){var e,i,s,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(this.currentTableData.length>9)){t.next=4;break}return this.SBDisabled=!1,t.abrupt("return",this.$message.error("第三方关注内容不能超过九个"));case 4:return e=[],this.currentTableData.length&&this.currentTableData.forEach((function(t){e.push(t.id)})),t.next=8,this.$store.dispatch("platformPreLoginPageShoConfigSubmit",{searchPrompt:this.formList.searchPrompt,showTypeVOS:this.formList.showTypeVOS,otherLoginShow:this.formList.otherLoginShow,showIdentityVOS:this.formList.showIdentityVOS,recommendedColumnVOS:this.formList.recommendedColumnVOS,prepareLoginBackgroud:this.formList.prepareLoginBackgroud,topDrawingUrl:this.formList.topDrawingUrl,statisticsIdentity:this.formList.statisticsIdentity.join(","),id:this.formList.id,otherLoginName:this.formList.otherLoginName,topDrawingPoster:this.formList.topDrawingPoster,thirdPartyConcerns:e.join(",")});case 8:i=t.sent,s=i.data,a=s.status,r=s.msg,s.result,1e3===a?(this.$message.success(r),this.SBDisabled=!1,this.Reset()):(this.$message({type:"error",message:r}),this.SBDisabled=!1),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),this.SBDisabled=!1;case 20:case"end":return t.stop()}}),t,this,[[0,16]])})));return function(){return t.apply(this,arguments)}}(),Reset:function(){this.$refs.formList.clearValidate(),this.fileList=[],this.adLandingBackImgList=[],this.sysLogo=[],this.adLandingLogoList=[],this.currentTableData=[],Object(n.c)({name:"initTableData",content:[],type:"session"}),this.detailWGFN()},detailWGFN:function(){var t=Object(s.a)(regeneratorRuntime.mark((function t(){var e,i,s,a,r,o,l,c,u,m,f,p,h=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$store.dispatch("serviceInfoGetAllServerDict");case 3:return e=t.sent,i=e.data.result.map((function(t){return{id:t.id,service_name:t.service_name}})),t.next=8,this.$store.dispatch("platformPreLoginPageShoConfigDetail");case 8:s=t.sent,a=s.data,r=a.status,o=a.msg,l=a.result,1e3===r?(c=Object(d.cloneDeep)(l.showIdentityVOS),(u=c.find((function(t){return t.fieldName="访客"})))&&1==u.isSelect&&(this.isDisable=!0),(m=l.thirdPartyConcerns)?(f=m.split(","),p=[],f.forEach((function(t){i.forEach((function(e){t===e.id&&(h.currentTableData.push(e),p.push(e))}))})),Object(n.c)({name:"initTableData",content:p,type:"session"})):this.currentTableData=[],this.formList.searchPrompt=l.searchPrompt,this.formList.showTypeVOS=l.showTypeVOS,this.formList.otherLoginShow=l.otherLoginShow,this.formList.showIdentityVOS=l.showIdentityVOS,this.formList.recommendedColumnVOS=l.recommendedColumnVOS,this.formList.prepareLoginBackgroud=l.prepareLoginBackgroud,this.formList.topDrawingPoster=l.topDrawingPoster,this.formList.topDrawingUrl=l.topDrawingUrl,l.topDrawingUrl&&this.adLandingBackImgList.push({name:(new Date).getTime(),url:l.topDrawingUrl}),this.formList.statisticsIdentity=l.statisticsIdentity.split(","),this.formList.id=l.id,this.formList.otherLoginName=l.otherLoginName):this.$message({type:"error",message:o}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0);case 19:case"end":return t.stop()}}),t,this,[[0,16]])})));return function(){return t.apply(this,arguments)}}(),beforeUpload:function(t){return-1==["image/png","image/jpg","image/jpeg"].indexOf(t.type)?(this.$message.error("上传配图只能是png jpg jpeg图片格式!"),!1):t.size/1024/1024<=20?void 0:(this.$message.error("上传图片最大20M, 请重新上传!"),!1)},handleSuccess:function(t){this.formList.logo=t.result},handlePreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},hadleError:function(t){this.$message.error(t)},handleRemove:function(t,e){this.formList.logo=""},closePreview:function(){this.dialogVisible=!1}}},m=(i("fb8b"),Object(l.a)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"third looking-setting"},[i("div",{staticClass:"third-formOne adhibition"},[i("div",{staticClass:"formOne-btn"},[t._m(0),i("div",{staticClass:"btn-right"},[i("el-button",{staticClass:"btn-two",attrs:{type:"default"},on:{click:function(e){return t.Reset()}}},[t._v("重置")]),i("el-button",{staticClass:"btn-two",attrs:{type:"primary",disabled:t.SBDisabled},on:{click:function(e){return t.submitFN()}}},[t._v("保存")])],1)]),i("el-form",{ref:"formList",attrs:{model:t.formList,rules:t.rules,"show-message":!1,"label-width":"100px"},on:{validate:t.validateValue}},[i("div",{staticClass:"formOne-forms"},[i("div",{staticClass:"forms-one",staticStyle:{"margin-top":"57px"}},[i("div",{staticClass:"one-title"},[i("div",{staticClass:"title-left"},[i("span",{staticClass:"left-icon"},[i("i",{staticClass:"el-icon-s-operation"})]),i("span",{staticClass:"left-content palTel"},[t._v("预登陆主题色")])])]),i("div",{staticClass:"one-list myform"},[i("el-form-item",{staticClass:"advance-theme",attrs:{label:"预登陆主题色",prop:"prepareLoginBackgroud"}},[i("el-color-picker",{model:{value:t.formList.prepareLoginBackgroud,callback:function(e){t.$set(t.formList,"prepareLoginBackgroud",e)},expression:"formList.prepareLoginBackgroud"}}),i("span",{staticStyle:{display:"inline-block","vertical-align":"top",margin:"2px 5px"}},[t._v(t._s(t.formList.prepareLoginBackgroud))]),i("div",{staticStyle:{"font-size":"10px",color:"#aeaeb4"}},[t._v("用于预登陆页面按钮等颜色渲染，请勿设置白色及相近颜色，否则会导致文字内容不可见")])],1)],1)]),i("div",{staticClass:"forms-one"},[i("div",{staticClass:"one-title"},[i("div",{staticClass:"title-left"},[i("span",{staticClass:"left-icon"},[i("i",{staticClass:"el-icon-s-operation"})]),i("span",{staticClass:"left-content palTel"},[t._v("顶部配图")])])]),i("div",{staticClass:"one-list myform"},[i("el-form-item",{attrs:{label:"顶部配图",prop:"topDrawingUrl"}},[i("el-upload",{staticClass:"list-upload-img my-upload",attrs:{action:"/api/blade-platform/platformapplyguiselogo/upload",accept:".jpg, .jpeg, .png, .gif","list-type":"picture-card","file-list":t.adLandingBackImgList,"on-success":t.getAdLandingBackImg,"on-remove":t.removeAdLandingBackImg,"on-error":t.hadleError,"before-upload":t.beforeUpload,"on-preview":t.handlePreview}},[i("i",{staticClass:"el-icon-plus"}),i("div",{staticClass:"list-upload-title",staticStyle:{"font-size":"12px"}},[t._v("点击上传")]),i("div",{staticClass:"list-upload-tip my-upload-footer",staticStyle:{"font-size":"10px"},attrs:{slot:"tip"},slot:"tip"},[t._v("20M以内，支持扩展名.png、.jpg、.jpeg、.gif，建议为1920*300px的矩形图片")])])],1),i("el-form-item",{attrs:{label:"标语",prop:"topDrawingPoster"}},[i("el-input",{staticClass:"list-input myInput_config",attrs:{maxlength:20,placeholder:"请输入20个字以内的标语"},model:{value:t.formList.topDrawingPoster,callback:function(e){t.$set(t.formList,"topDrawingPoster","string"==typeof e?e.trim():e)},expression:"formList.topDrawingPoster"}})],1)],1)]),i("div",{staticClass:"forms-one"},[i("div",{staticClass:"one-title"},[i("div",{staticClass:"title-left"},[i("span",{staticClass:"left-icon"},[i("i",{staticClass:"el-icon-s-operation"})]),i("span",{staticClass:"left-content palTel"},[t._v("搜索")])])]),i("div",{staticClass:"one-list myform"},[i("el-form-item",{attrs:{label:"搜索框提示语",prop:"searchPrompt"}},[i("el-input",{staticClass:"list-input myInput_config",attrs:{maxlength:30,placeholder:"请输入"},model:{value:t.formList.searchPrompt,callback:function(e){t.$set(t.formList,"searchPrompt","string"==typeof e?e.trim():e)},expression:"formList.searchPrompt"}})],1)],1)]),i("div",{staticClass:"forms-one"},[i("div",{staticClass:"one-title"},[i("div",{staticClass:"title-left"},[i("span",{staticClass:"left-icon"},[i("i",{staticClass:"el-icon-s-operation"})]),i("span",{staticClass:"left-content palTel"},[t._v("登录入口")])])]),i("div",{staticClass:"one-list myform"},[i("el-form-item",{attrs:{label:"其他用户登录",prop:"otherLoginShow"}},[i("el-radio-group",{model:{value:t.formList.otherLoginShow,callback:function(e){t.$set(t.formList,"otherLoginShow",e)},expression:"formList.otherLoginShow"}},[i("el-radio",{attrs:{label:1}},[t._v("展示")]),i("el-radio",{attrs:{label:0}},[t._v("不展示")])],1)],1),1==t.formList.otherLoginShow?i("el-form-item",{attrs:{label:"登录名称",prop:"otherLoginName"}},[i("el-input",{staticClass:"list-input myInput_config",attrs:{maxlength:6,placeholder:"请输入"},model:{value:t.formList.otherLoginName,callback:function(e){t.$set(t.formList,"otherLoginName","string"==typeof e?e.trim():e)},expression:"formList.otherLoginName"}})],1):t._e()],1)]),i("div",{staticClass:"forms-one"},[i("div",{staticClass:"one-title"},[i("div",{staticClass:"title-left"},[i("span",{staticClass:"left-icon"},[i("i",{staticClass:"el-icon-s-operation"})]),i("span",{staticClass:"left-content palTel"},[t._v("第三方关注内容")])])]),i("div",{staticClass:"one-list myform"},[i("div",[i("el-button",{attrs:{icon:"el-icon-plus",disabled:t.currentTableData.length>=9},on:{click:t.openAddDialog}},[t._v("添加第三方关注内容")])],1),i("div",{staticClass:"showTag",staticStyle:{margin:"5px 4px"}},t._l(t.currentTableData,(function(e){return i("el-tag",{key:e.id,staticStyle:{margin:"0 4px"},attrs:{closable:""},on:{close:function(i){return t.handleRoleClose(e)}}},[t._v(t._s(e.service_name))])})),1)])]),i("div",{staticClass:"forms-one"},[i("div",{staticClass:"one-title"},[i("div",{staticClass:"title-left"},[i("span",{staticClass:"left-icon"},[i("i",{staticClass:"el-icon-s-operation"})]),i("span",{staticClass:"left-content palTel"},[t._v("推荐服务")]),i("span",{staticStyle:{"font-size":"12px",display:"inline-block","margin-top":"2px","margin-left":"10px",color:"#ff4d4f"}},[t._v("点击推荐栏目不放可拖动顺序")])])]),i("div",{staticClass:"one-list myform "},[i("el-form-item",{attrs:{label:"推荐栏目",rules:[{required:!0}]}},[i("div",{staticClass:"one-list one-list-three"},[i("div",{staticClass:"list-one-line"},t._l(t.formList.recommendedColumnVOS,(function(e,s){return i("el-form-item",{key:s,staticStyle:{"margin-bottom":"5px",cursor:"pointer"}},[i("div",{staticClass:"showItem",staticStyle:{display:"flex"}},[i("span",{staticStyle:{"font-size":"12px",margin:"0px 10px 0px 0px"}},[t._v(t._s(e.fieldName))]),i("el-form-item",{attrs:{prop:"recommendedColumnVOS."+s+".value",rules:{required:!0,message:"请输入"+e.fieldName+"栏目展示名称",trigger:"blur"}}},[i("el-input",{staticClass:"list-input myInput_config",attrs:{maxlength:6,placeholder:"请输入"+e.fieldName+"栏目展示名称"},model:{value:e.value,callback:function(i){t.$set(e,"value","string"==typeof i?i.trim():i)},expression:"item.value"}})],1)],1)])})),1)])])],1)]),i("div",{staticClass:"forms-one"},[i("div",{staticClass:"one-title"},[i("div",{staticClass:"title-left"},[i("span",{staticClass:"left-icon"},[i("i",{staticClass:"el-icon-s-operation"})]),i("span",{staticClass:"left-content palTel"},[t._v("服务分类")]),i("span",{staticStyle:{"font-size":"12px",display:"inline-block","margin-top":"2px","margin-left":"10px",color:"#ff4d4f"}},[t._v("点击具体身份和分类不放可拖动顺序")])])]),i("div",{staticClass:"one-list myform "},[i("el-form-item",{attrs:{label:"分类方式",prop:"classStyle"}},[i("el-radio-group",{model:{value:t.formList.classStyle,callback:function(e){t.$set(t.formList,"classStyle",e)},expression:"formList.classStyle"}},[i("el-radio",{attrs:{label:1}},[t._v("区分用户身份")]),t._e()],1)],1),i("el-form-item",{attrs:{label:"展示身份",rules:[{required:!0}]}},[i("div",{staticClass:"one-list one-list-one"},[i("div",{staticClass:"list-one-line"},t._l(t.formList.showIdentityVOS,(function(e,s){return i("el-form-item",{key:s,staticStyle:{"margin-bottom":"5px",cursor:"pointer"}},[i("div",{staticClass:"showItem",staticStyle:{display:"flex"}},[i("el-checkbox",{attrs:{disabled:"教工"===e.fieldName||"学生"===e.fieldName},on:{change:function(i){return t.IsCheckedVisitor(e)}},model:{value:e.isSelect,callback:function(i){t.$set(e,"isSelect",i)},expression:"item.isSelect"}},[t._v(t._s(e.fieldName))]),i("el-form-item",{attrs:{prop:"showIdentityVOS."+s+".value",rules:{required:!!e.isSelect,message:"请输入"+e.fieldName+"身份展示名称",trigger:"blur"}}},[i("el-input",{staticClass:"list-input myInput_config",attrs:{maxlength:9,placeholder:"请输入"+e.fieldName+"身份展示名称"},model:{value:e.value,callback:function(i){t.$set(e,"value","string"==typeof i?i.trim():i)},expression:"item.value"}})],1)],1)])})),1)])]),i("el-form-item",{attrs:{label:"展示分类",rules:[{required:!0}]}},[i("div",{staticClass:"one-list one-list-two"},[i("div",{staticClass:"list-one-line"},t._l(t.formList.showTypeVOS,(function(e,s){return i("el-form-item",{key:s,staticStyle:{"margin-bottom":"5px",cursor:"pointer"}},[i("div",{staticClass:"showItem",staticStyle:{display:"flex"}},[i("span",{staticStyle:{"font-size":"12px",margin:"0px 10px 0px 0px"}},[t._v(t._s(e.fieldName))]),i("el-form-item",{attrs:{prop:"showTypeVOS."+s+".value",rules:{required:!0,message:"请输入"+e.fieldName+"分类展示名称",trigger:"blur"}}},[i("el-input",{staticClass:"list-input myInput_config",attrs:{maxlength:9,placeholder:"请输入"+e.fieldName+"分类展示名称"},model:{value:e.value,callback:function(i){t.$set(e,"value","string"==typeof i?i.trim():i)},expression:"item.value"}})],1)],1)])})),1)])])],1)]),i("div",{staticClass:"forms-one",staticStyle:{"margin-bottom":"50px"}},[i("div",{staticClass:"one-title"},[i("div",{staticClass:"title-left"},[i("span",{staticClass:"left-icon"},[i("i",{staticClass:"el-icon-s-operation"})]),i("span",{staticClass:"left-content palTel"},[t._v("服务数据统计")])])]),i("div",{staticClass:"one-list myform"},[i("el-form-item",{attrs:{label:"统计身份",prop:"statisticsIdentity"}},[i("el-checkbox-group",{model:{value:t.formList.statisticsIdentity,callback:function(e){t.$set(t.formList,"statisticsIdentity",e)},expression:"formList.statisticsIdentity"}},[i("el-checkbox",{attrs:{label:"1",disabled:""}},[t._v("教工")]),i("el-checkbox",{attrs:{label:"2",disabled:""}},[t._v("学生")]),i("el-checkbox",{attrs:{label:"3",disabled:!t.isDisable}},[t._v("访客")])],1)],1)],1)])])])],1),i("preview-modal",{attrs:{previewModal:t.dialogVisible,previewImageUrl:t.dialogImageUrl},on:{previewClose:t.closePreview}}),i("addOfficalAccounts",{attrs:{addModalVisible:t.addModalVisible,choosedList:t.currentTableData},on:{closeAddModal:t.closeAddModal,addData:t.addData}})],1)}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"btn-left"},[i("span",{staticClass:"left-back-content"},[t._v("预登陆页面展示配置")])])}],!1,null,null,null));e.default=m.exports},fb8b:function(t,e,i){"use strict";var s=i("5edd");i.n(s).a}}]);
//# sourceMappingURL=chunk-a6a3f62c.acee2607.js.map
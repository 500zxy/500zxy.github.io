(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-03406329"],{3559:function(t,e,a){},"55ef":function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return n}));var s=a("b775"),l="/api/blade-platform",o=function(t){return Object(s.a)({url:"".concat(l,"/appconfiguration/organizationDetails"),method:"post",data:t})},n=function(t){return Object(s.a)({url:"".concat(l,"/appconfiguration/updateOrganization"),method:"post",data:t})}},"9d18":function(t,e,a){"use strict";var s=a("3559");a.n(s).a},bf42:function(t,e,a){t.exports=a.p+"img/zzjglm.1472bcf4.png"},fa6f:function(t,e,a){"use strict";a.r(e);var s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"btn-left"},[a("span",{staticClass:"left-back-content"},[t._v("消息联系人配置")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"forms-one",staticStyle:{"margin-top":"45px"}},[a("div",{staticClass:"one-list"},[a("span",{staticClass:"organization-sepec-notice"},[a("i",{staticClass:"el-icon-warning"}),t._v("各栏目下的数据来源不可修改，这里仅支持修改栏目名字，以适应校情")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"one-title"},[a("div",{staticClass:"title-left"},[a("span",{staticClass:"left-icon"},[a("i",{staticClass:"el-icon-s-operation"})]),a("span",{staticClass:"left-content"},[t._v("学生栏目名称")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"one-title"},[a("div",{staticClass:"title-left"},[a("span",{staticClass:"left-icon"},[a("i",{staticClass:"el-icon-s-operation"})]),a("span",{staticClass:"left-content"},[t._v("教工栏目名称")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"one-title"},[a("div",{staticClass:"title-left"},[a("span",{staticClass:"left-icon"},[a("i",{staticClass:"el-icon-s-operation"})]),a("span",{staticClass:"left-content"},[t._v("电话号码查看权限（包括手机号、备用号码）")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"phon-right"},[e("img",{staticClass:"phon-right-img",attrs:{src:a("bf42"),alt:""}})])}],l=a("55ef"),o={name:"formSeven",data:function(){return{rules:{schoolId:[{required:!0,message:"请输入学校代码",trigger:"blur"}],schoolName:[{required:!0,message:"请输入学校名称",trigger:"blur"}]},student:[],teacher:[],teacher_look_student:"RELATED",teacher_look_teacher:"FRIEND_ONLY",student_look_student:"FRIEND_ONLY",student_look_teacher:"FRIEND_ONLY",options1:[{value:"ALL",label:"可查看联系人列表中全部教工的电话号码"},{value:"RELATED",label:"仅可查看部门同事和教工好友的电话号码"},{value:"FRIEND_ONLY",label:"仅可查看教工好友的电话号码"}],options2:[{value:"RELATED",label:"可查看联系人中全部学生的电话号码"},{value:"FRIEND_ONLY",label:"仅可查看学生好友的电话号码"}],options3:[{value:"RELATED",label:"可查看联系人列表中全部教工的电话号码"},{value:"FRIEND_ONLY",label:"仅可查看教工好友的电话号码"}],options4:[{value:"RELATED",label:"可查看联系人列表中全部学生的电话号码"},{value:"FRIEND_ONLY",label:"仅可查看学生好友的电话号码"}]}},created:function(){this.organizationDetailsFN()},methods:{Reset:function(){this.organizationDetailsFN()},organizationDetailsFN:function(){var t=this;try{Object(l.a)().then((function(e){var a=e.data;1e3===a.status?(t.student=a.result.student,t.teacher=a.result.teacher,t.teacher_look_student=a.result.telLook.teacher_look_student||"RELATED",t.teacher_look_teacher=a.result.telLook.teacher_look_teacher||"FRIEND_ONLY",t.student_look_student=a.result.telLook.student_look_student||"FRIEND_ONLY",t.student_look_teacher=a.result.telLook.student_look_teacher||"FRIEND_ONLY"):t.$message({type:"error",message:a.msg})}))}catch(t){}},updateOrganizationFN:function(){var t=this;try{var e=!0,a=[];if(a.push.apply(a,this.student),a.push.apply(a,this.teacher),a.forEach((function(t){""==t.value&&(e=!1)})),e){var s={oranizationBasic:[],telLook:{}};s.oranizationBasic=a,s.telLook.teacher_look_student=this.teacher_look_student,s.telLook.teacher_look_teacher=this.teacher_look_teacher,s.telLook.student_look_student=this.student_look_student,s.telLook.student_look_teacher=this.student_look_teacher,Object(l.b)(s).then((function(e){var a=e.data;1e3===a.status?t.$message.success("操作成功"):t.$message({type:"error",message:a.msg})}))}else this.$message.error("请填写完整信息")}catch(t){}}}},n=(a("9d18"),a("2877")),i=Object(n.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"third"},[a("div",{staticClass:"third-formOne adhibition"},[a("div",{staticClass:"formOne-btn"},[t._m(0),a("div",{staticClass:"btn-right"},[a("el-button",{staticClass:"btn-two",attrs:{type:"default"},on:{click:t.Reset}},[t._v("重置")]),a("el-button",{directives:[{name:"el-disabel-repeat-click",rawName:"v-el-disabel-repeat-click"}],staticClass:"btn-two",attrs:{type:"primary"},on:{click:t.updateOrganizationFN}},[t._v("保存")])],1)]),a("div",{staticClass:"formOne-forms",staticStyle:{width:"60%",float:"left"}},[t._m(1),a("div",{staticClass:"forms-one"},[t._m(2),a("div",{staticClass:"one-list"},[a("el-form",{ref:"ruleForm",attrs:{rules:t.rules,"label-width":"86px"}},t._l(t.student,(function(e,s){return a("el-form-item",{key:s,attrs:{label:String(s+1)+"、",prop:"stuNumber"}},[a("el-input",{staticClass:"item-input",staticStyle:{"margin-right":"8px"},attrs:{maxlength:10,placeholder:"请输入"},model:{value:e.value,callback:function(a){t.$set(e,"value","string"==typeof a?a.trim():a)},expression:"item.value"}}),a("el-input",{staticClass:"list-input",attrs:{maxlength:50,placeholder:"英文版，不填默认使用中文版内容"},model:{value:e.valueEn,callback:function(a){t.$set(e,"valueEn","string"==typeof a?a.trim():a)},expression:"item.valueEn"}})],1)})),1)],1)]),a("div",{staticClass:"forms-one"},[t._m(3),a("div",{staticClass:"one-list"},[a("el-form",{ref:"ruleForm",attrs:{rules:t.rules,"label-width":"86px"}},t._l(t.teacher,(function(e,s){return a("el-form-item",{key:s,attrs:{label:String(s+1)+"、",prop:"stuNumber"}},[a("el-input",{staticClass:"item-input",staticStyle:{"margin-right":"8px"},attrs:{maxlength:10,placeholder:"请输入"},model:{value:e.value,callback:function(a){t.$set(e,"value","string"==typeof a?a.trim():a)},expression:"item.value"}}),a("el-input",{staticClass:"list-input",attrs:{maxlength:50,placeholder:"英文版，不填默认使用中文版内容"},model:{value:e.valueEn,callback:function(a){t.$set(e,"valueEn","string"==typeof a?a.trim():a)},expression:"item.valueEn"}})],1)})),1)],1)]),a("div",{staticClass:"forms-one"},[t._m(4),a("div",{staticClass:"one-list"},[a("el-form",{ref:"ruleForm",attrs:{rules:t.rules,"label-width":"86px"}},[a("el-form-item",{attrs:{label:"教工-学生",prop:"teacher_look_student"}},[a("el-select",{staticClass:"list-input",attrs:{placeholder:"请选择"},model:{value:t.teacher_look_student,callback:function(e){t.teacher_look_student=e},expression:"teacher_look_student"}},t._l(t.options2,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"教工-教工",prop:"teacher_look_teacher"}},[a("el-select",{staticClass:"list-input",attrs:{placeholder:"请选择"},model:{value:t.teacher_look_teacher,callback:function(e){t.teacher_look_teacher=e},expression:"teacher_look_teacher"}},t._l(t.options1,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"学生-教工",prop:"student_look_teacher"}},[a("el-select",{staticClass:"list-input",attrs:{placeholder:"请选择"},model:{value:t.student_look_teacher,callback:function(e){t.student_look_teacher=e},expression:"student_look_teacher"}},t._l(t.options3,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"学生-学生",prop:"student_look_student"}},[a("el-select",{staticClass:"list-input",attrs:{placeholder:"请选择"},model:{value:t.student_look_student,callback:function(e){t.student_look_student=e},expression:"student_look_student"}},t._l(t.options4,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"其他用户",prop:"student_look_student"}},[a("div",{staticStyle:{color:"#2e4057","font-size":"12px","line-height":"26px"}},[t._v("与学生、教工之间，仅可查看好友的电话号码")])])],1)],1)])]),t._m(5)])])}),s,!1,null,null,null);e.default=i.exports}}]);
//# sourceMappingURL=chunk-03406329.a9a4686e.js.map
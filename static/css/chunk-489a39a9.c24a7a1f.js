(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-489a39a9"],{"0634":function(e,t,r){},"3fda":function(e,t,r){"use strict";var n=r("0634");r.n(n).a},b647:function(e,t,r){"use strict";r.r(t);var n=(r("4917"),r("a481"),r("b775")),a={name:"formSeven",components:{wangEditor:r("ea98").a},data:function(){return{excludeKeys:["insertVideo","uploadVideo","group-video","fullScreen"],countNum:1,rules:{appUseAgreement:[{required:!0,message:"请输入",trigger:"blur"}],userAgreement:[{required:!0,message:"请输入",trigger:"blur"}],content:[{required:!0,message:"请输入",trigger:"blur"}],reminder:[{required:!0,message:"请输入",trigger:"blur"}]},valueDate:{isAgainRead:2,version:"",appUseAgreement:"",appUseAgreementStr:"",userAgreement:"",userAgreementStr:"",content:"",contentStr:"",reminder:"",reminderStr:""},editor:null,reminderEditer:null,noticeModal:!1}},created:function(){this.LoginAccountTipsFN()},methods:{copy:function(e){try{var t="";1==e?t=window.location.origin+"/helpWebMobile/#/privacyPolicy/privacyPolicy":2==e&&(t=window.location.origin+"/helpWebMobile/#/privacyPolicy/userAgreement");var r=document.createElement("input");r.value=t,document.body.appendChild(r),r.select(),document.execCommand("Copy"),document.body.removeChild(r),this.$message.success("复制成功")}catch(e){this.$message.error("复制失败")}},closeNotice:function(){this.valueDate.isAgainRead=2,this.saveLoginAccountTipsFN()},agreeNotice:function(){this.valueDate.isAgainRead=1,this.saveLoginAccountTipsFN()},getContent1:function(e,t){this.valueDate.appUseAgreement=e,this.valueDate.appUseAgreementStr=JSON.stringify(t)},getContent2:function(e,t){this.valueDate.content=e,this.valueDate.contentStr=JSON.stringify(t)},getContent3:function(e,t){this.valueDate.userAgreement=e,this.valueDate.userAgreementStr=JSON.stringify(t)},getContent4:function(e,t){this.valueDate.reminder=e,this.valueDate.reminderStr=JSON.stringify(t)},validateValue:function(e,t,r){this.countNum||t||(this.countNum+=1,r&&this.$message.error(r))},ruleFormFN:function(){this.LoginAccountTipsFN()},LoginAccountTipsFN:function(){var e=this;this.noticeModal=!1;try{Object(n.a)({url:"/api/blade-platform/appconfiguration/getAppUserPrivacyConfig",method:"get"}).then((function(t){var r=t.data;1e3===r.status?(e.valueDate.version=r.result.version,e.valueDate.appUseAgreement=r.result.appUseAgreement,e.valueDate.appUseAgreementStr=r.result.appUseAgreementStr,e.valueDate.userAgreement=r.result.userAgreement,e.valueDate.userAgreementStr=r.result.userAgreementStr,e.valueDate.content=r.result.content,e.valueDate.contentStr=r.result.contentStr,e.valueDate.reminder=r.result.reminder,e.valueDate.reminderStr=r.result.reminderStr,e.$refs.wangEditor1.reset(JSON.parse(r.result.appUseAgreementStr)),e.$refs.wangEditor2.reset(JSON.parse(r.result.contentStr)),e.$refs.wangEditor3.reset(JSON.parse(r.result.userAgreementStr)),e.$refs.wangEditor4.reset(JSON.parse(r.result.reminderStr)),e.noticeModal=!1):(e.noticeModal=!1,e.$message({type:"error",message:r.msg}))}))}catch(e){this.noticeModal=!1}},saveFN:function(){this.$refs.wangEditor1.isEmpty()?this.$message.error("请输入app使用协议"):this.$refs.wangEditor2.isEmpty()?this.$message.error("请输入隐私政策"):this.$refs.wangEditor3.isEmpty()?this.$message.error("请输入用户协议"):this.$refs.wangEditor4.isEmpty()?this.$message.error("请输入温馨提示"):this.noticeModal=!0},getFilterText:function(e){var t,r=e.replace(/<\/?.+?>/g,"").replace(/ /g,""),n=e.match(/<img[^>]+>/g);return n&&(t=n.length),n||(t=0),t+r.length},saveLoginAccountTipsFN:function(){var e=this;try{var t={appUserPrivacyVO:{isAgainRead:this.valueDate.isAgainRead,version:this.valueDate.version,appUseAgreement:this.valueDate.appUseAgreement,appUseAgreementStr:this.valueDate.appUseAgreementStr,userAgreement:this.valueDate.userAgreement,userAgreementStr:this.valueDate.userAgreementStr,content:this.valueDate.content,contentStr:this.valueDate.contentStr,reminder:this.valueDate.reminder,reminderStr:this.valueDate.reminderStr}};Object(n.a)({url:"/api/blade-platform/appconfiguration/saveAppUserPrivacyConfig",method:"post",data:t}).then((function(t){var r=t.data;1e3===r.status?(e.$message.success("保存成功"),e.LoginAccountTipsFN()):e.$message({type:"error",message:r.msg})}))}catch(e){}}}},s=(r("3fda"),r("2877")),i=Object(s.a)(a,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"third yszc"},[r("div",{staticClass:"third-formOne"},[r("div",{staticClass:"formOne-btn"},[e._m(0),r("div",{staticClass:"btn-right"},[r("el-button",{staticClass:"btn-two",attrs:{type:"default"},on:{click:function(t){return e.ruleFormFN()}}},[e._v("重置")]),r("el-button",{directives:[{name:"el-disabel-repeat-click",rawName:"v-el-disabel-repeat-click"}],staticClass:"btn-two",attrs:{type:"primary"},on:{click:function(t){return e.saveFN()}}},[e._v("保存")])],1)]),r("el-form",{staticStyle:{width:"1100px",float:"left"},attrs:{"show-message":!1,"label-width":"86px"}},[r("div",{staticClass:"formOne-forms"},[r("div",{staticClass:"forms-one",staticStyle:{"margin-top":"57px"}},[r("div",{staticClass:"one-list"},[r("el-form",{ref:"valueDate",attrs:{model:e.valueDate,rules:e.rules,"label-width":"86px"}},[r("div",{staticClass:"list-two-line"},[r("el-form-item",{staticClass:"sensitiveConfiguration-text-area",attrs:{label:"APP使用协议",prop:"appUseAgreement"}},[r("wangEditor",{ref:"wangEditor1",attrs:{height:"150px",excludeKeys:e.excludeKeys,maxLength:200,editorId:"appSYXX"},on:{getContent:e.getContent1}})],1)],1),r("div",{staticClass:"list-two-line"},[r("el-form-item",{staticClass:"sensitiveConfiguration-text-area",attrs:{label:"隐私政策",prop:"content"}},[r("el-button",{staticStyle:{height:"24px"},attrs:{type:"default",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(1)}}},[e._v("复制隐私政策链接")]),r("wangEditor",{ref:"wangEditor2",attrs:{height:"300px",excludeKeys:e.excludeKeys,maxLength:1e4,editorId:"YSZC"},on:{getContent:e.getContent2}})],1)],1),r("div",{staticClass:"list-two-line"},[r("el-form-item",{staticClass:"sensitiveConfiguration-text-area",attrs:{label:"用户协议",prop:"userAgreement"}},[r("el-button",{staticStyle:{height:"24px"},attrs:{type:"default",icon:"el-icon-document-copy"},on:{click:function(t){return e.copy(2)}}},[e._v("复制用户协议链接")]),r("wangEditor",{ref:"wangEditor3",attrs:{height:"300px",excludeKeys:e.excludeKeys,maxLength:1e4,editorId:"YHXX"},on:{getContent:e.getContent3}})],1)],1),r("div",{staticClass:"list-two-line"},[r("el-form-item",{staticClass:"sensitiveConfiguration-text-area",attrs:{label:"温馨提示",prop:"reminder"}},[r("wangEditor",{ref:"wangEditor4",attrs:{height:"150px",maxLength:200,excludeKeys:e.excludeKeys,editorId:"WXTS"},on:{getContent:e.getContent4}})],1)],1)])],1)])])]),r("notice-modal",{attrs:{noticeModalVisible:e.noticeModal,btnclose:"仅保存",noticeTitle:"提示",noticeType:1,btnAgree:"需要重新阅读并同意",noticeContent:"保存后是否需要用户重新阅读并同意"},on:{noticeModalClose:e.closeNotice,noticeModalAgree:e.agreeNotice}})],1)])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"btn-left"},[r("span",{staticClass:"left-back-content"},[e._v("APP使用协议配置")])])}],!1,null,null,null);t.default=i.exports}}]);
//# sourceMappingURL=chunk-489a39a9.c24a7a1f.js.map